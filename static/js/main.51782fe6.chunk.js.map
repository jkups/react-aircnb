{"version":3,"sources":["components/authentication/AuthModal.js","components/authentication/Login.js","components/authentication/Signup.js","components/properties/Property.js","components/geomap/MapPropertyList.js","components/properties/Paginate.js","components/properties/PropertyList.js","components/geomap/MapProperty.js","components/reservation/Calendar.js","components/reservation/Billing.js","components/reservation/Reviews.js","components/reservation/Reservation.js","components/payment/card-logo.png","components/payment/Braintree.js","components/payment/Payment.js","components/payment/Confirmation.js","components/search/Calendar.js","components/search/SearchBar.js","components/Home.js","components/Header.js","components/Navigation.js","components/Footer.js","components/Terms.js","components/Contact.js","components/About.js","components/ReservationsProfile.js","components/ReviewForm.js","components/UserProfile.js","AirBnC.js","reportWebVitals.js","index.js"],"names":["AuthModal","className","onClick","this","props","toggleAuthModal","children","React","Component","SERVER_BASE_URL","Login","state","email","password","error","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","axios","post","withCredentials","then","response","data","logged_in","handleLogin","errors","catch","console","warn","stopPropagation","onSubmit","type","placeholder","onChange","required","switchAuthForm","style","color","marginTop","href","user","Property","showProperty","id","propertyData","src","images","image_url","loading","alt","property_type","searchTerm","heading","max_guests","bedrooms","bathrooms","listing_price","Intl","NumberFormat","currency","format","MapPropertyList","bounds","displayMarkers","locations","map","location","index","position","lat","latitude","lng","longitude","icon","url","prevProps","google","maps","LatLngBounds","forEach","item","i","extend","zoom","width","height","initialCenter","GoogleApiWrapper","apiKey","window","Paginate","handlePageClick","selected","offset","Math","ceil","perPage","log","fetchFilteredProperties","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","previousClassName","nextClassName","BASE_URL","PropertyList","search","useState","queryString","parse","checkin","startDate","checkout","endDate","properties","setProperties","filteredProperty","setFilteredProperty","showType","setShowType","showPrice","setShowPrice","setPageCount","priceFilter","setPriceFilter","typeFilter","setTypeFilter","useEffect","fetchProperties","get","res","length","history","push","toggleFilter","filter","setStateValue","filterByType","ev","innerHTML","filterByPrice","range","innerText","startsWith","split","includes","lower","higher","currentTarget","pathname","URLSearchParams","toString","reload","prop","el","idx","arr","indexOf","sort","a","b","toUpperCase","fetchPropertyType","MapProperty","coordinates","Calendar","ranges","selectionRange","months","direction","showDateDisplay","minDate","Date","disabledDates","reservedDates","handleSelect","Billing","showCalendar","guestsCount","toggleCalendar","clearCalendar","key","updateGuestsCount","maxGuests","property","initiateReservation","isLoggedIn","reservation","property_id","from_date","to_date","guests_count","booking_code","random","substr","processReservation","formatCurrency","pricePerNight","cleaningFee","cleaning_fee","serviceFee","service_fee","dateDiff","total","grandTotal","dateFormat","year","month","day","nights","toLocaleDateString","DateTimeFormat","selectionReserved","Reviews","stars","review","rating","comment","Reservation","title","address","description","amenities","reviews","reservations","selection","join","componentDidMount","match","params","getReservedDates","reviewsCount","avgRating","reduce","acc","curr","round","isSelectionRangeReserved","date","toDateString","setDate","getDate","slice","flatMap","dateRange","getTime","propertyImages","first","second","amenitiesOne","amenitiesTwo","splice","image","Braintree","hostedFields","submitValue","submitDisabled","stylesConfig","fieldsConfig","cardholderName","selector","number","cvv","expirationDate","braintree","client","create","authorization","styles","fields","on","event","cards","code","size","setAttribute","field","attribute","hostedFieldsErr","getState","Object","keys","every","isValid","tokenize","payload","processPayment","nonce","alert","CardLogo","htmlFor","disabled","Payment","total_due","reservation_id","user_id","totalDue","Confirmation","printConfirmation","print","bookingCode","to","SearchBar","setSearchTerm","searchAttempt","setSearchAttempt","setStartDate","setEndDate","calendarShow","setCalendarShow","count","showSearch","toggleSearch","prototype","call","Home","Header","rel","Navigation","navClass","handleLogout","padding","JSON","sessionStorage","getItem","Footer","Terms","Contact","message","booking","method","sent","resetForm","setTimeout","bind","onNameChange","aria-describedby","onEmailChange","onBookingChange","rows","onMessageChange","About","ReservationsProfile","created_at","total_paid","ReviewForm","reservationid","isUpdate","review_id","put","min","max","onRatingChange","onCommentChange","UserProfile","about_info","email_confirmed","identity_confirmed","userid","AirBnC","authForm","authModalVisible","getLoginStatus","form","visible","setItem","stringify","delete","removeItem","path","render","exact","component","Signup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51782fe6.chunk.js","sourcesContent":["import React from 'react';\n\nclass AuthModal extends React.Component {\n  render(){\n    return(\n      <div className=\"auth-modal\">\n        <div className=\"auth-wrapper\" onClick={this.props.toggleAuthModal}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AuthModal\n","import React from 'react';\nimport axios from 'axios';\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com';\n\nclass Login extends React.Component {\n  state = {\n    email:'',\n    password:'',\n    error: ''\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const { email, password } = this.state\n\n    axios.post(`${SERVER_BASE_URL}/login.json`,\n      { email, password },\n      { withCredentials: true }\n    )\n    .then( response => {\n      if(response.data.logged_in){\n        this.props.handleLogin(response.data)\n      } else {\n        this.setState({\n          error: response.data.errors\n        })\n      }\n    })\n    .catch(console.warn)\n  }\n\n  render(){\n    return(\n      <>\n        <div className=\"auth-dialog\" onClick={(e) => e.stopPropagation()}>\n          <form onSubmit={ this.handleSubmit }>\n            <h4>Login</h4>\n            {\n              this.state.error !== '' && <div className=\"error\">{this.state.error}</div>\n            }\n            <div>\n              <input\n                className=\"input\"\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Enter your email address\"\n                onChange={ this.handleChange }\n                required\n                />\n            </div>\n            <div>\n              <input\n                className=\"input\"\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Enter your password\"\n                onChange={ this.handleChange }\n                required\n                />\n            </div>\n            <div>\n              <button className=\"button\" type=\"submit\">Login</button>\n            </div>\n          </form>\n          <span onClick={ () => this.props.switchAuthForm('signup', true) }>\n            Don't have an account? Signup.\n          </span>\n        </div>\n        <div style={{color:'grey', marginTop:'15px'}}>\n          see test credentials&nbsp;\n          <a href=\"https://github.com/jkups/react-aircnb\" target=\"_blank\">here</a>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react';\nimport axios from 'axios';\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com';\n\nclass Login extends React.Component {\n  state = {\n    name:'',\n    email:'',\n    password:'',\n    error: ''\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const user = this.state\n\n    axios.post(`${SERVER_BASE_URL}/users.json`,\n      { user },\n      { withCredentials: true }\n    )\n    .then( response => {\n      if(response.data.logged_in){\n        this.props.handleLogin(response.data)\n      } else {\n        this.setState({\n          error: response.data.errors\n        })\n      }\n    })\n    .catch(console.warn)\n  }\n\n  render(){\n    return(\n      <div className=\"auth-dialog\" onClick={(e) => e.stopPropagation()}>\n        <form onSubmit={ this.handleSubmit }>\n          <h4>Signup</h4>\n          {\n            this.state.error !== '' && <div className=\"error\">{this.state.error}</div>\n          }\n          <div>\n            <input\n              className=\"input\"\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Full name\"\n              onChange={ this.handleChange }\n              required\n              />\n          </div>\n          <div>\n            <input\n              className=\"input\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter your email address\"\n              onChange={ this.handleChange }\n              required\n              />\n          </div>\n          <div>\n            <input\n              className=\"input\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Enter your password\"\n              onChange={ this.handleChange }\n              required\n              />\n          </div>\n          <div>\n            <button className=\"button\" type=\"submit\">Signup</button>\n          </div>\n        </form>\n        <span onClick={ () => this.props.switchAuthForm('login', true) }>\n          Have an account? Login.\n        </span>\n      </div>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react';\n\nconst Property = (props) => {\n\n  const formatCurrency = value => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n  }\n\n  return (\n    <div className=\"list-item\" onClick={props.showProperty} id={props.propertyData.id}>\n        <div className=\"list-image\">\n          {\n            <img src={\"https://res.cloudinary.com/dhl1cdqch/image/upload/v1610626496/\" + props.propertyData.images[0].image_url} loading=\"lazy\" alt={props.propertyData.images[0].name} />\n          }\n        </div>\n        <div className=\"list-details\">\n          <div>\n            <div>\n              Entire {props.propertyData.property_type} in {props.searchTerm}\n            </div>\n            <div>\n              {props.propertyData.heading}\n            </div>\n            <div className=\"dash\"></div>\n            <div>\n              { props.propertyData.max_guests } guests&nbsp;&nbsp;&#183;&nbsp;&nbsp;\n              {props.propertyData.bedrooms} beds &nbsp;&nbsp;&#183;&nbsp;&nbsp;\n              {props.propertyData.bathrooms} bath\n            </div>\n          </div>\n          <div>\n            <p>\n              <strong>\n                {formatCurrency(props.propertyData.listing_price)}\n              </strong> / night\n            </p>\n          </div>\n        </div>\n    </div>\n  ); //return\n}; //function\nexport default Property;\n","import React from 'react';\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\n\nexport class MapPropertyList extends React.Component {\n  state = {\n    bounds: null,\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.locations !== this.props.locations){\n      const bounds = new this.props.google.maps.LatLngBounds();\n        this.props.locations.forEach((item, i) => {\n          bounds.extend({lat:item.latitude,lng:item.longitude});\n        });\n        this.setState({bounds});\n    }\n  }\n\n\n  displayMarkers = () => {\n    return this.props.locations.map((location, index) => (\n      <Marker\n        key={index}\n        id={index}\n        position={\n          {\n            lat: location.latitude,\n            lng: location.longitude\n          }\n        }\n        icon={\n          {\n            url: `https://chart.googleapis.com/chart?chst=d_map_spin&chld=1|0|FFFFFF|10|b|$ ${location.listing_price}`\n          }\n        }\n      />\n    ))\n  }\n\nrender(){\n  const mapStyles = {\n    width: '50%',\n    height: '95%',\n  };\n\n    return (\n      <div>\n        <Map\n          google={this.props.google}\n          zoom={10}\n          style={mapStyles}\n          initialCenter={{ lat: this.props.locations[0].latitude, lng: this.props.locations[0].longitude}}\n          bounds={this.state.bounds}\n        >\n        {this.displayMarkers()}\n        </Map>\n      </div>\n    ); //return\n  }; //function\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyAW5MNODxdAncbpnSGtOIl6Gyfjo-e6w3g'\n})(MapPropertyList);\n","import React, { Component } from 'react';\nimport ReactPaginate from 'react-paginate';\n// import CommentList from './CommentList';\nimport PropTypes from 'prop-types';\n// import axios from 'axios';\n// import $ from 'jquery';\n\nwindow.React = React;\n\nconst BASE_URL = \"https://aircnb.herokuapp.com/\";\n\nclass Paginate extends Component {\n  // static propTypes = {\n  //   // url: PropTypes.string.isRequired,\n  //   // author: PropTypes.string.isRequired,\n  //   perPage: PropTypes.number.isRequired,\n  // };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // data: [],\n      offset: 0,\n      // total_count: 0\n    };\n  }\n\n  componentDidMount() {\n    // this.setState({\n    //   total_count: this.props.length,\n    // })\n    this.props.fetchFilteredProperties(0);\n  }\n  //We need to rerequest a new page update new search request.\n  componentDidUpdate(prevProps) {\n    if(prevProps.searchTerm !== this.props.searchTerm){\n      this.props.fetchFilteredProperties(0);\n    }\n  }\n\n\n  handlePageClick = (data) => {\n    let selected = data.selected;\n    let offset = Math.ceil(selected * this.props.perPage);\n    console.log({selected, props: this.props.perPage});\n    this.setState({ offset: offset }, () => {\n      this.props.fetchFilteredProperties(offset);\n    });\n  };\n\n  render() {\n    // console.log(\"amount:\", this.state.total_count );\n    // console.log(\"offset:\", this.state.data);\n\n    return (\n      <div className=\"commentBox\">\n        <ReactPaginate\n          previousLabel={'previous'}\n          nextLabel={'next'}\n          breakLabel={'...'}\n          breakClassName={'break-me'}\n          pageCount={this.props.pageCount}\n          marginPagesDisplayed={2}\n          pageRangeDisplayed={5}\n          onPageChange={this.handlePageClick}\n          containerClassName={'pagination justify-content-center'}\n          subContainerClassName={'pages pagination'}\n          activeClassName={'active'}\n          previousClassName={'btn btn-outline-secondary btn-sm me-2'}\n          nextClassName={'btn btn-outline-secondary btn-sm'}\n          activeClassName={'btn btn-outline-primary'}\n          pageClassName={'btn btn-outline-secondary btn-sm me-2'}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Paginate\n\n// loadCommentsFromServer() {\n//   // axios.get(BASE_URL + \"/properties/search/\" + this.props.searchTerm)\n//   // .then((res)=> {\n//   //   this.setState({\n//   //     total_count: res.data.length\n//   //   })\n//   //   console.log(\"Full Data:\", res.data );\n//   // })\n//   const url = BASE_URL + \"/properties/search/\" + this.props.searchTerm + \"/\" + this.props.perPage + \"/\" + this.state.offset;\n//   console.log(\"URL:\", url);\n//   axios.get(url)\n//   .then((res)=> {\n//     this.setState({\n//       data: res.data,\n//       pageCount: Math.ceil(this.state.total_count / this.props.perPage),\n//     });\n//     this.props.listData(res.data);\n//     // console.log(\"Sorted Data:\", res.data );\n//   });\n// }\n","import React, { useEffect, useState} from 'react';\nimport axios from 'axios';\nimport queryString from 'query-string';\nimport Property from './Property';\nimport MapPropertyList from '../geomap/MapPropertyList';\nimport Paginate from './Paginate';\nimport '../search/Search.css'\n\nconst BASE_URL = \"https://aircnb.herokuapp.com\";\nconst SEARCH_RESULTS_PER_PAGE = 3; //hard coded for simplicity :)\n\nconst PropertyList = (props) => {\n  const search = props.location.search\n  const [searchTerm] = useState(queryString.parse(search).location);\n  const [startDate] = useState(queryString.parse(search).checkin);\n  const [endDate] = useState(queryString.parse(search).checkout);\n\n  const [properties,setProperties] = useState([]);\n  const [filteredProperty,setFilteredProperty] = useState([]);\n  const [showType, setShowType] = useState(false);\n  const [showPrice, setShowPrice] = useState(false);\n  const [pageCount, setPageCount] = useState(0);\n  const [priceFilter, setPriceFilter] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n\n  //hard coded for simplicity :)\n  const priceRange = [\n    {range:\"-50\"},\n    {range:\"50-70\"},\n    {range:\"70-90\"},\n    {range:\"90-110\"},\n    {range:\"110-130\"},\n    {range:\"130+\"}\n  ];\n\n  useEffect( () => fetchProperties(),[searchTerm] )\n\n  const fetchProperties = () => {\n    if(searchTerm){\n      axios.get(BASE_URL + \"/properties/search/\" + searchTerm)\n      .then(res => {\n        setProperties(res.data)\n        setPageCount(Math.ceil(res.data.length / SEARCH_RESULTS_PER_PAGE ))\n      })\n      .catch(console.warn)\n    } else {\n      props.history.push('/')\n    }\n  }\n\n  const fetchFilteredProperties = (offset) => {\n    const url = BASE_URL + \"/properties/search/\" + searchTerm + \"/\"+ SEARCH_RESULTS_PER_PAGE + \"/\" + offset;\n    axios.get(url)\n    .then((res)=> {\n        setFilteredProperty(res.data)\n    })\n    .catch(console.warn())\n  }\n\n  const toggleFilter = (filter, setStateValue) => {\n    filter ? setStateValue(false) : setStateValue(true)\n  }\n\n  const filterByType = (ev) => {\n    const type = ev.target.innerHTML;\n     const url = BASE_URL + \"/properties/searchtype/\" + searchTerm + \"/\" + type + \"/100/0\";\n     axios.get(url)\n     .then((res)=> {\n         setFilteredProperty(res.data)\n         setTypeFilter(`(${type})`)\n         setShowType(false)\n     })\n     .catch(console.warn)\n  }\n\n  const filterByPrice = (ev) => {\n    const range = ev.target.innerText;\n    const [lower, higher] = range.startsWith('-') ?\n      [0, range.split('-')[1]] : range.includes('-') ?\n      range.split('-') : [range.split('+')[0], 1000000];\n\n    const url = BASE_URL + \"/properties/searchprice/\" + searchTerm + \"/\" + lower + \"/\" + higher + \"/100/0\";\n    axios.get(url)\n    .then((res)=> {\n        setFilteredProperty(res.data)\n        setPriceFilter(`(${lower} - ${higher})`)\n        setShowPrice(false)\n    })\n    .catch(console.warn)\n  }\n\n  const showProperty = (ev) => {\n    const id = ev.currentTarget.id\n    props.history.push({\n      pathname: `/property/${id}`,\n      search: '?' + new URLSearchParams({\n        checkin: startDate,\n        checkout: endDate,\n      }).toString()\n    })\n  }\n\n  const fetchPropertyType = (properties) => {\n    const type =\n      properties.map(prop => prop.property_type)\n      .filter( (el, idx, arr) => idx === arr.indexOf(el))\n\n    return type.sort( (a, b) => {\n      a = a.toUpperCase();\n      b = b.toUpperCase()\n\n      if(a > b) return -1\n      if(a < b) return 1\n      return 0\n    })\n  }\n\n  return (\n    <div className=\"search-result\">\n      <div>\n        <h3>\n          <strong>Accomodation in { searchTerm }</strong>\n        </h3>\n        <div className=\"search-filter\">\n          <div className=\"type-filter\">\n            <div className=\"filter-button\" onClick={() => toggleFilter(showType, setShowType)}>\n              Type of place {typeFilter}\n              {\n                typeFilter ?\n                <span className=\"clear\" onClick={() => window.location.reload(true)}>x</span> : null\n              }\n            </div>\n            {\n              showType === true ?\n              <div className=\"filter-options\">\n                {\n                  fetchPropertyType(properties).map((type, index)=><div key={index} onClick={filterByType}>{type}</div>)\n                }\n              </div> : null\n            }\n          </div>\n          <div className=\"price-filter\">\n            <div className=\"filter-button\" onClick={() => toggleFilter(showPrice, setShowPrice)}>\n            Price {\n              priceFilter !== '' ?\n              `$${priceFilter}` : priceFilter\n            }\n            {\n              priceFilter ?\n              <span className=\"clear\" onClick={() => window.location.reload(true)}>x</span> : null\n            }\n            </div>\n            {\n              showPrice === true ?\n              <div className=\"filter-options\">\n                {\n                  priceRange.map((data,index)=><div onClick={filterByPrice}>{data.range}</div>)\n                }\n              </div> : null\n            }\n          </div>\n        </div>\n        <div className=\"search-list\">\n          {\n            filteredProperty.map((data, index) => <Property key={data.id} propertyData={data} searchTerm={searchTerm} showProperty={showProperty}/>)\n          }\n          <div className=\"pagination\">\n            {\n              properties.length > 0 ?\n              <Paginate length={properties.length} pageCount={pageCount} fetchFilteredProperties={fetchFilteredProperties} perPage={SEARCH_RESULTS_PER_PAGE} searchTerm={searchTerm} />\n              :\n              <div className=\"loading\">\n                Loading...\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"map-wrapper\">\n        <div className=\"search-map\">\n          {\n            properties.length > 0 ?\n            <MapPropertyList locations={properties}/>\n              :\n            <div className=\"loading\">\n              Loading...\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  ); //return\n}; //function\n\nexport default PropertyList;\n","import React from 'react';\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\n\nexport class MapProperty extends React.Component {\n\nrender(){\n  const mapStyles = {\n    width: '100%',\n    height: '100%',\n  };\n\n    return (\n      <div className=\"Top\">\n        <Map\n          google={this.props.google}\n          zoom={11}\n          style={mapStyles}\n          initialCenter={this.props.coordinates[0]}\n        >\n        <Marker\n          key=\"1\"\n          id=\"1\"\n          position={this.props.coordinates[0]}\n          icon={{\n            url: `https://chart.googleapis.com/chart?chst=d_fnote_title&chld=balloon|1|000000|h|$${this.props.locations.listing_price}|Max Guests: ${this.props.locations.max_guests}|Book Now!`\n          }}\n          />\n        </Map>\n      </div>\n    ); //return\n  }; //function\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyAW5MNODxdAncbpnSGtOIl6Gyfjo-e6w3g'\n})(MapProperty);\n","import React from 'react'\nimport 'react-date-range/dist/styles.css'; // main style file\nimport 'react-date-range/dist/theme/default.css'; // theme css file\nimport { DateRange } from 'react-date-range';\n\nclass Calendar extends React.Component {\n\n  render(){\n    return(\n      <div>\n        <DateRange\n          ranges={[this.props.selectionRange]}\n          months={2}\n          direction=\"horizontal\"\n          showDateDisplay={false}\n          minDate={new Date()}\n          disabledDates={this.props.reservedDates}\n          onChange={(ranges) => this.props.handleSelect(ranges)}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Calendar\n","import React from 'react'\nimport Calendar from './Calendar'\nimport axios from 'axios'\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com'\n\nclass Billing extends React.Component {\n  state = {\n    showCalendar: false,\n    guestsCount: 1\n  }\n\n  toggleCalendar = () => {\n    this.setState({\n      showCalendar: !this.state.showCalendar\n    })\n  }\n\n  clearCalendar = () => {\n    const ranges = {}\n    ranges['selection'] = {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection'\n    }\n    this.props.handleSelect(ranges)\n  }\n\n  updateGuestsCount = value => {\n    const maxGuests = this.props.property.max_guests\n    let guestsCount = this.state.guestsCount\n\n    if(value && guestsCount < maxGuests ) guestsCount++\n    if(!value && guestsCount > 1 ) guestsCount--\n\n    this.setState({\n      guestsCount: guestsCount\n    })\n  }\n\n  initiateReservation = () => {\n    if(this.props.isLoggedIn){\n      const reservation = {\n        property_id: this.props.property.id,\n        from_date: this.props.selectionRange.startDate,\n        to_date: this.props.selectionRange.endDate,\n        guests_count: this.state.guestsCount,\n        booking_code: Math.random().toString(16).substr(2, 8)\n      }\n      axios.post(`${SERVER_BASE_URL}/reservations.json`,\n        { reservation },\n        { withCredentials: true }\n      )\n      .then(res => {\n        this.props.processReservation(res.data)\n      })\n      .catch(console.warn)\n\n    } else {\n      this.props.switchAuthForm('login', true)\n    }\n  }\n\n  formatCurrency = value => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n  }\n\n  render(){\n\n    const {\n      listing_price: pricePerNight,\n      max_guests: maxGuests,\n      cleaning_fee: cleaningFee,\n      service_fee: serviceFee\n    } = this.props.property;\n\n    const dateDiff = (this.props.selectionRange.endDate - this.props.selectionRange.startDate) / 1000 / 60 / 60 / 24;\n\n    const total = pricePerNight * dateDiff\n    const grandTotal = pricePerNight * dateDiff + cleaningFee + serviceFee\n    const dateFormat = { year: 'numeric', month: 'short', day: 'numeric' };\n\n    let nights = dateDiff <= 0 ? 'Select a date range' : `${dateDiff} nights`\n\n    return(\n      <div className=\"billing\">\n        {\n          dateDiff <= 0 ?\n            <div>\n              { this.formatCurrency(pricePerNight) } <span>/night</span>\n            </div> :\n            <div>\n              { this.formatCurrency(grandTotal) } <span>total</span>\n            </div>\n        }\n\n        <div className=\"reserve\">\n          <div className=\"date-range\" onClick={ this.toggleCalendar }>\n            <div className=\"date left\">\n              <div>CHECK-IN</div>\n              <div>\n                {\n                  this.props.selectionRange.startDate.toLocaleDateString('en-GB')\n                }\n              </div>\n            </div>\n            <div className=\"date\">\n              <div>CHECKOUT</div>\n              <div>\n                {\n                  this.props.selectionRange.endDate.toLocaleDateString('en-GB')\n                }\n              </div>\n            </div>\n          </div>\n          <div className=\"guests\">\n            <div>GUESTS</div>\n            <div className=\"counter\">\n              <span onClick={ () => this.updateGuestsCount(false) }>-</span>\n              <span onClick={ () => this.updateGuestsCount(true) }>+</span>\n            </div>\n            <div>\n              { this.state.guestsCount }\n              { this.state.guestsCount > 1 ? ' guests' : ' guest' }\n            </div>\n          </div>\n          {\n            this.state.showCalendar ?\n              <div className=\"calendar floating\">\n                <div className=\"date-range floating\">\n                  <div className=\"date left\">\n                    <div>CHECK-IN</div>\n                    <div>\n                      {\n                        this.props.selectionRange.startDate.toLocaleDateString('en-GB')\n                      }\n                    </div>\n                  </div>\n                  <div className=\"date\">\n                    <div>CHECKOUT</div>\n                    <div>\n                      {\n                        this.props.selectionRange.endDate.toLocaleDateString('en-GB')\n                      }\n                    </div>\n                  </div>\n                </div>\n                <div className=\"floating header\">\n                  <div>\n                    { nights }\n                  </div>\n                  <div>\n                    {\n                      dateDiff <= 0 ?\n                        <span>\n                          Add your travel dates for exact pricing\n                        </span> :\n                        <span>\n                          {\n                            new Intl.DateTimeFormat('en-US', dateFormat).format(this.props.selectionRange.startDate)\n                          }\n                          &nbsp;-&nbsp;\n                          {\n                            new Intl.DateTimeFormat('en-US', dateFormat).format(this.props.selectionRange.endDate)\n                          }\n                        </span>\n                    }\n                  </div>\n                </div>\n                <Calendar\n                  handleSelect={ this.props.handleSelect }\n                  selectionRange={ this.props.selectionRange }\n                  reservedDates={this.props.reservedDates}\n                />\n                <div className=\"calendar action\">\n                  <span className=\"button\" onClick={ this.clearCalendar }>\n                    Clear dates\n                  </span>\n                  <span className=\"button\" onClick={ this.toggleCalendar }>\n                    Close\n                  </span>\n                </div>\n              </div> : null\n          }\n          <span>\n            You can have a maximum of { maxGuests } guests\n          </span>\n        </div>\n        <div>\n          {\n            this.props.selectionReserved &&\n            <span className=\"unavailable-notice\">The dates you selected are no more available</span>\n          }\n          {\n            dateDiff <= 0 ?\n              <button\n                className=\"button\"\n                onClick={ this.toggleCalendar }\n                >\n                Check Availability\n              </button> :\n              <button\n                className=\"button\"\n                onClick={ this.initiateReservation }\n                >\n                Make Reservation\n              </button>\n          }\n        </div>\n        <div className=\"bill\">\n          {\n            dateDiff <= 0 ?\n              <div>\n                <span>\n                  Enter a date range and number of guests to check total lodging price, including any additional fees.\n                </span>\n              </div> :\n              <div>\n                <span>You wont be charged yet.</span>\n                <span>Price shown is the total lodging price, including any additional fees.</span>\n                <div className=\"bill-table\">\n                  <div>\n                    <span>\n                      { this.formatCurrency(pricePerNight) } x { dateDiff } nights\n                    </span>\n                    <span>\n                      { this.formatCurrency(total) }\n                    </span>\n                  </div>\n                  <div>\n                    <span>Cleaning fee</span>\n                    <span>{ this.formatCurrency(cleaningFee) }</span>\n                  </div>\n                  <div>\n                    <span>Service fee</span>\n                    <span>{ this.formatCurrency(serviceFee) }</span>\n                  </div>\n                </div>\n                <div className=\"bill-total\">\n                  <span>Total</span>\n                  <span>\n                    { this.formatCurrency(grandTotal) }\n                  </span>\n                </div>\n              </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Billing\n","import React from 'react';\n\nconst Reviews = (props) => {\n\n  const rating = () => {\n    const stars = [];\n    for(let i = 0; i < props.review.rating; i++){\n      stars.push(<span className=\"star-rating\"> &#9733; </span>)\n    }\n    return stars;\n  }\n\n  return(\n    <div>\n      { rating() }\n      <p>{props.review.comment}</p>\n    </div>\n  )\n}\n\nexport default Reviews\n","import React from 'react'\nimport MapProperty from '../geomap/MapProperty';\nimport axios from 'axios'\nimport queryString from 'query-string';\nimport Billing from './Billing'\nimport './Reservation.css'\nimport '../authentication/Auth.css'\nimport Reviews from './Reviews'\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com'\n\nclass Reservation extends React.Component {\n  state = {\n    ranges: {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection',\n    },\n    property: {\n    \tid: 0,\n    \theading: '',\n    \ttitle: '',\n    \taddress: '',\n    \tdescription: '',\n    \timages: [{}],\n    \tmax_guests: 0,\n    \tlisting_price: 0,\n    \tbedrooms: 0,\n    \tbathrooms: 0,\n    \tamenities: '',\n    \tcleaning_fee: 0,\n    \tservice_fee: 0,\n      longitude: -33.8688197,\n      latitude: 151.2092955,\n      reviews: [],\n      reservations: [],\n    },\n    reservedDates: [],\n    selectionReserved: false\n  }\n\n  handleSelect = ranges => {\n    this.setState({\n      ranges: ranges.selection,\n      selectionReserved: false\n    })\n  }\n\n  processReservation = reservation => {\n    let startDate = new Date(reservation.from_date).toLocaleDateString()\n    let endDate = new Date(reservation.to_date).toLocaleDateString()\n\n    startDate = startDate.split('/').join('-')\n    endDate = endDate.split('/').join('-')\n\n    this.props.history.push({\n      pathname: `/book/${reservation.id}`,\n      search: '?' + new URLSearchParams({\n        checkin: startDate,\n        checkout: endDate,\n      }).toString()\n    })\n  }\n\n  componentDidMount = () => {\n    const search = this.props.location.search\n    const id = this.props.match.params.id\n\n    if(!queryString.parse(search).checkin || !queryString.parse(search).checkout) {\n      this.props.history.push('/')\n\n    } else {\n      let startDate = (queryString.parse(search).checkin).split('-')\n      let endDate = (queryString.parse(search).checkout).split('-')\n\n      startDate = new Date(startDate[2],startDate[1]-1,startDate[0])\n      endDate = new Date(endDate[2],endDate[1]-1,endDate[0])\n\n      const url = `${SERVER_BASE_URL}/properties/${id}.json`\n      axios.get(url)\n      .then(res => {\n        this.setState({\n          ranges: {\n            startDate: startDate,\n            endDate: endDate,\n            key: \"selection\"\n          },\n          property: res.data[0]\n        })\n\n        this.getReservedDates()\n      })\n    }\n  }\n\n  rating = () => {\n    const reviews = this.state.property.reviews\n    const reviewsCount = reviews.length\n    const avgRating = reviews.reduce((acc, curr) => acc + curr.rating, 0) / reviewsCount\n\n    const stars = [];\n    for(let i = 0; i < Math.round(avgRating); i++){\n      stars.push(<span className=\"star-rating\"> &#9733; </span>)\n    }\n\n    return { stars, reviewsCount, avgRating }\n  }\n\n  isSelectionRangeReserved = reservedDates => {\n    const startDate = this.state.ranges.startDate\n    const endDate =  this.state.ranges.endDate\n    const dateDiff = (endDate - startDate)/ 1000 / 60 / 60 / 24\n\n    if(reservedDates){\n      for(let i = 0; i <= dateDiff; i++){\n        const date = startDate.toDateString()\n\n        for(const reserved of reservedDates){\n          if(reserved.toDateString() === date){\n            return true\n          }\n        }\n        startDate.setDate(startDate.getDate() + 1)\n      }\n    }\n  }\n\n  getReservedDates = () => {\n    const reservations = this.state.property.reservations.slice()\n    if(reservations.length === 0) return null\n\n    const reservedDates = reservations.flatMap(date => {\n      const dateRange = []\n      const startDate = new Date(date.from_date)\n      const endDate =  new Date(date.to_date)\n      const dateDiff = (endDate - startDate)/ 1000 / 60 / 60 / 24\n\n      for(let i = 0; i <= dateDiff; i++){\n        dateRange.push(new Date(startDate.getTime()));\n        startDate.setDate(startDate.getDate() + 1);\n      }\n      return dateRange\n\n    }).filter((date, idx, arr) => idx === arr.indexOf(date))\n\n    const selectionReserved = this.isSelectionRangeReserved(reservedDates)\n\n    if(selectionReserved){\n      this.setState({\n        ranges: {\n          startDate: new Date(),\n          endDate: new Date(),\n          key: \"selection\"\n        }\n      })\n    }\n\n    this.setState({\n      reservedDates: reservedDates,\n      selectionReserved: selectionReserved\n    })\n  }\n\n  render(){\n\n    //hard coded additional property images for simplicity :)\n    const propertyImages = {\n      first: [\n        'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80',\n        'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80'\n      ],\n      second: [\n        'https://images.unsplash.com/photo-1584455333741-c8192566df82?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80',\n        'https://images.unsplash.com/photo-1574873215043-44119461cb3b?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80'\n      ]\n    }\n\n    const coordinates = [{\n      lng:this.state.property.longitude,\n      lat:this.state.property.latitude\n    }]\n\n    const amenitiesOne = this.state.property.amenities.split(',')\n    const amenitiesTwo = amenitiesOne.splice(-amenitiesOne.length/2)\n\n    return(\n      <div className=\"container\">\n        <div className=\"reservation\">\n          <div className=\"primary-header\">\n            <h3>{ this.state.property.heading }</h3>\n            <div>\n              <span>{ this.state.property.address }</span>&nbsp;&nbsp;&#183;&nbsp;&nbsp;\n              <span>\n                <span className=\"star-rating\">&#9733;</span>&nbsp;\n                {this.rating().avgRating} ({this.rating().reviewsCount} Comments)\n              </span>\n            </div>\n          </div>\n          <div className=\"image-gallery\">\n            <ul>\n              <li>\n                <img src={`https://res.cloudinary.com/dhl1cdqch/image/upload/v1610626496/${this.state.property.images[0].image_url}`} alt=\"\"/>\n              </li>\n              <li>\n                <ul>\n                  {\n                    propertyImages.first.map((image, idx) => (\n                      <li key={idx}>\n                        <img src={image} alt=\"\"/>\n                      </li>\n                    ))\n                  }\n                </ul>\n                <ul>\n                  {\n                    propertyImages.second.map((image, idx) => (\n                      <li key={idx}>\n                        <img src={image} alt=\"\"/>\n                      </li>\n                    ))\n                  }\n                </ul>\n              </li>\n            </ul>\n          </div>\n          <ul>\n            <li className=\"left\">\n              <div className=\"secondary-header\">\n                <h4>{ this.state.property.title }</h4>\n                <div>\n                  <span>{ this.state.property.max_guests } guests</span> &nbsp;&nbsp;&#183;&nbsp;&nbsp;\n                  <span>{ this.state.property.bedrooms } bedroom</span> &nbsp;&nbsp;&#183;&nbsp;&nbsp;\n                  <span>{ this.state.property.bathrooms } bathroom</span>\n                </div>\n              </div>\n              <div className=\"description\">\n                { this.state.property.description }\n              </div>\n              <div className=\"amenities\">\n                <h4>Amenities</h4>\n                <ul>\n                  <li>\n                    {\n                      amenitiesOne.map( (el, idx) => (\n                        <div key={ idx }>\n                          <span>{ el }</span>\n                        </div>\n                      ))\n                    }\n                  </li>\n                  <li>\n                    {\n                      amenitiesTwo.map( (el, idx) => (\n                        <div key={ idx }>\n                          <span>{ el }</span>\n                        </div>\n                      ))\n                    }\n                  </li>\n                </ul>\n              </div>\n              <div className=\"amenities\">\n                <h4>Reviews { this.rating().stars }</h4>\n                  {\n                       this.state.property.reviews.map((review,index) => <Reviews key={index} review={review} />)\n                  }\n              </div>\n              <div className=\"map\">\n                <h4>Location</h4>\n                <div className=\"map-wrapper\">\n                {\n                    this.state.property.listing_price > 0 ?\n                      <MapProperty coordinates={coordinates} locations={this.state.property} />\n                        :\n                      <p>Loading...</p>\n                }\n                </div>\n              </div>\n            </li>\n            <li>\n              <div className=\"right\">\n                <Billing\n                  switchAuthForm={ this.props.switchAuthForm}\n                  selectionRange={ this.state.ranges }\n                  property={ this.state.property }\n                  handleSelect={ this.handleSelect }\n                  isLoggedIn={ this.props.isLoggedIn }\n                  processReservation={ this.processReservation }\n                  reservedDates={ this.state.reservedDates }\n                  selectionReserved={ this.state.selectionReserved }\n                />\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Reservation\n","export default __webpack_public_path__ + \"static/media/card-logo.bbd80c36.png\";","import React from 'react'\nimport ReactDOM from \"react-dom\";\nimport braintree from 'braintree-web'\nimport CardLogo from './card-logo.png'\nclass Braintree extends React.Component {\n\n  state = {\n    hostedFields: {},\n    submitValue: 'Pay with Card',\n    submitDisabled: true\n  }\n\n  componentDidMount = () => {\n\n    const stylesConfig = {\n  \t\t'input': {\n  \t\t  'font-size': '18px',\n  \t\t  'color': '#17a2b8'\n  \t\t},\n  \t\t'input.invalid': {\n  \t\t  'color': 'red'\n  \t\t},\n  \t\t'input.valid': {\n  \t\t  'color': 'green'\n  \t\t}\n  \t};\n\n  \tconst fieldsConfig = {\n  \t\tcardholderName: {\n  \t\t\tselector: '#cardholder-name',\n  \t\t\tplaceholder: 'John Doe'\n  \t\t},\n  \t\tnumber: {\n  \t\t  selector: '#card-number',\n  \t\t  placeholder: '4111 1111 1111 1111'\n  \t\t},\n  \t\tcvv: {\n  \t\t  selector: '#cvv',\n  \t\t  placeholder: '123'\n  \t\t},\n  \t\texpirationDate: {\n  \t\t  selector: '#expiration',\n  \t\t  placeholder: 'MM/YY'\n  \t\t}\n  \t};\n\n    //create braintree client\n  \tconst clientCreated = braintree.client.create({ authorization: 'sandbox_q7bzcx2z_qjd7x8wgzkgmfrz5' });\n\n  \t//setup card payment\n  \tconst hostedFields = clientCreated.then(client => {\n  \t  return braintree.hostedFields.create({\n    \t\tclient: client,\n    \t\tstyles: stylesConfig,\n    \t\tfields: fieldsConfig\n  \t  });\n  \t})\n\n    hostedFields.then(hostedFields => {\n\n  \t\thostedFields.on('cardTypeChange', event => {\n  \t\t\tif (event.cards.length === 1) {\n\n  \t\t\t\tif (event.cards[0].code.size === 4) {\n  \t\t\t\t\thostedFields.setAttribute({\n  \t\t\t\t\t\tfield: 'cvv',\n  \t\t\t\t\t\tattribute: 'placeholder',\n  \t\t\t\t\t\tvalue: '1234'\n  \t\t\t\t\t});\n\n  \t\t\t\t} else {\n  \t\t\t\t\thostedFields.setAttribute({\n  \t\t\t\t\t\tfield: 'cvv',\n  \t\t\t\t\t\tattribute: 'placeholder',\n  \t\t\t\t\t\tvalue: '123'\n  \t\t\t\t\t});\n  \t\t\t\t}\n  \t\t\t}\n\n  \t\t});\n\n      this.setState({\n        hostedFields: hostedFields,\n        submitDisabled: false\n      })\n\n  \t})\n  \t.catch(function(hostedFieldsErr){\n  \t\tif (hostedFieldsErr) {\n  \t\t\tconsole.error(hostedFieldsErr);\n  \t\t\treturn;\n  \t\t}\n  \t});\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const state = this.state.hostedFields.getState();\n    const formValid = Object.keys(state.fields).every(key =>\n      state.fields[key].isValid\n    );\n\n    if(formValid){\n      this.setState({\n        submitValue: 'Processing...',\n        submitDisabled: true\n      })\n\n      const cardholderName = 'John Doe' //hard coded for simplicity :)\n\n      this.state.hostedFields.tokenize({ cardholderName: cardholderName }).then(payload => {\n        // send payload.nonce to server\n        this.props.processPayment(payload.nonce)\n      }).catch(console.warn);\n\n    } else {\n      alert('Your payment details are invalid.')\n    }\n  }\n\n\n  render(){\n    return(\n      <div className=\"braintree\">\n        <div>\n          <img src={CardLogo} alt=\"\" className=\"card-logo\"/>\n        </div>\n        <form onSubmit={ this.handleSubmit }>\n\n          <label htmlFor=\"cardholder-name\">Name on Card</label>\n          <div id=\"cardholder-name\"></div>\n\n          <label htmlFor=\"card-number\">Card Number</label>\n          <div id=\"card-number\"></div>\n\n          <label htmlFor=\"cvv\">CVV</label>\n          <div id=\"cvv\"></div>\n\n          <label htmlFor=\"expiration\">Expiration Date</label>\n          <div id=\"expiration\"></div>\n\n          <input className=\"button\" id=\"pay\" type=\"submit\" value={this.state.submitValue} disabled={this.state.submitDisabled}/>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default Braintree\n","import React from 'react'\nimport Braintree from './Braintree'\nimport axios from 'axios'\nimport './Payment.css'\nimport '../authentication/Auth.css'\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com';\n\n\nclass Payment extends React.Component {\n\n  state = {\n    from_date: '2021-01-01',\n    to_date: '2021-01-01',\n    total_due: 0,\n    guests_count: 0,\n    property: {\n      heading: '',\n      title: '',\n      address: '',\n      bedrooms: 0,\n      bathrooms: 0,\n      cleaning_fee: 0,\n      service_fee: 0,\n      listing_price: 0\n    }\n  }\n\n  processPayment = nonce => {\n    const id = this.props.match.params.reservation_id\n    const user_id = this.props.user.id\n\n    axios.post(`${SERVER_BASE_URL}/pay/${id}`,\n      { nonce, user_id},\n      { withCredentials: true }\n    )\n    .then( res => {\n      const id = this.props.match.params.reservation_id\n      this.props.history.push(`/book/${id}/confirmation`)\n    })\n    .catch(console.warn)\n  }\n\n  formatCurrency = value => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n  }\n\n  componentDidMount = () => {\n    const id = this.props.match.params.reservation_id\n    // if(this.props.isLoggedIn){\n      axios.get(`${SERVER_BASE_URL}/reservations/${id}.json`,\n        { withCredentials: true }\n      )\n      .then( res => {\n        this.setState(res.data)\n      })\n      .catch(console.warn)\n\n    // } else {\n    //   this.props.history.push('/')\n    // }\n  }\n\n\n  render(){\n    const startDate =  new Date(this.state.from_date)\n    const endDate =  new Date (this.state.to_date)\n    const guestsCount =  this.state.guests_count\n    const totalDue =  this.state.total_due\n\n    const {\n      listing_price: pricePerNight,\n      cleaning_fee: cleaningFee,\n      service_fee: serviceFee,\n      heading, title, bedrooms, bathrooms\n    } = this.state.property\n\n    const dateDiff = (endDate - startDate) / 1000 / 60 / 60 / 24\n    const total = pricePerNight * dateDiff\n\n    return(\n      <div className=\"container\">\n        <div className=\"payment\">\n          <div>\n            <span></span>\n            <h3>Confirm and pay</h3>\n          </div>\n          <ul>\n            <li>\n              <div className=\"right\">\n                <ul>\n                  <li className=\"property-image\">\n                    <img src=\"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\" alt=\"\" width=\"100%\" />\n                  </li>\n                  <li className=\"property-details\">\n                    <div>{title}</div>\n                    <div>{heading}</div>\n                    <div>{bedrooms} bed&nbsp;&#183;&nbsp;{bathrooms} bath</div>\n                    <div>5.0 (8)</div>\n                  </li>\n                </ul>\n                <div className=\"trip\">\n                  <h5>Your trip</h5>\n                  <ul>\n                    <li className=\"dates\">\n                      <div>Dates</div>\n                      <div>{startDate.toLocaleDateString()} - {endDate.toLocaleDateString()}</div>\n                    </li>\n                    <li className=\"guests-count\">\n                      <div>Guests</div>\n                      <div>{guestsCount} guest</div>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"price\">\n                  <h5>Price details</h5>\n                    <div className=\"bill-table\">\n                      <div>\n                        <span>\n                          {this.formatCurrency(pricePerNight)} x {dateDiff} nights\n                        </span>\n                        <span>\n                          {this.formatCurrency(total)}\n                        </span>\n                      </div>\n                      <div>\n                        <span>Cleaning fee</span>\n                        <span>{this.formatCurrency(cleaningFee)}</span>\n                      </div>\n                      <div>\n                        <span>Service fee</span>\n                        <span>{this.formatCurrency(serviceFee)}</span>\n                      </div>\n                    </div>\n                    <div className=\"bill-total\">\n                      <span>Total Due</span>\n                      <span>\n                        {this.formatCurrency(totalDue)}\n                      </span>\n                    </div>\n                </div>\n              </div>\n            </li>\n            <li>\n              <Braintree processPayment={ this.processPayment }/>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Payment\n","import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\nimport '../../App.css';\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com';\n\nclass Confirmation extends React.Component {\n\n  state = {\n    reservation: {\n      from_date: '2021-01-01',\n      to_date: '2021-01-01',\n      total_due: 0,\n      guests_count: 0,\n      booking_code: '',\n      property: {\n        heading: '',\n        title: '',\n        address: '',\n        bedrooms: 0,\n        bathrooms: 0,\n        cleaning_fee: 0,\n        service_fee: 0,\n        listing_price: 0\n      }\n    }\n  }\n\n  formatCurrency = value => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n  }\n\n  printConfirmation = () => {\n    window.print()\n  }\n\n  componentDidMount = () => {\n    const id = this.props.match.params.reservation_id\n    axios.get(`${SERVER_BASE_URL}/reservations/${id}.json`, {\n      withCredentials: true\n    })\n    .then(res => {\n      this.setState({\n        reservation: res.data\n      })\n    })\n    .catch(console.warn)\n  }\n\n  render() {\n    const startDate = new Date(this.state.reservation.from_date)\n    const endDate = new Date(this.state.reservation.to_date)\n\n    const {\n      booking_code: bookingCode,\n      guests_count: guestsCount,\n      total_due: totalDue\n    } = this.state.reservation\n\n    const {\n      address,\n      listing_price: pricePerNight,\n      cleaning_fee: cleaningFee,\n      service_fee: serviceFee,\n      heading,\n      title,\n      bedrooms,\n      bathrooms\n    } = this.state.reservation.property\n\n    const dateDiff = (endDate - startDate) / 1000 / 60 / 60 / 24\n    const total = pricePerNight * dateDiff\n\n    return(\n      <div className=\"container\">\n        <div className=\"payment\">\n          <div>\n            <span></span>\n            <h3>Booking confirmation</h3>\n          </div>\n          <ul>\n            <li>\n              <div className=\"right\">\n                <ul>\n                  <li className=\"property-image\">\n                    <img src=\"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\" alt=\"\" width=\"100%\" />\n                  </li>\n                  <li className=\"property-details\">\n                    <div>{title}</div>\n                    <div>{heading}</div>\n                    <div>{bedrooms} bed&nbsp;&#183;&nbsp;{bathrooms} bath</div>\n                    <div>5.0 (8)</div>\n                  </li>\n                </ul>\n                <div className=\"trip\">\n                  <h5>Your trip</h5>\n                  <ul>\n                    <li className=\"dates\">\n                      <div>Dates</div>\n                      <div>{startDate.toLocaleDateString('en-GB')} - {endDate.toLocaleDateString('en-GB')}</div>\n                    </li>\n                    <li className=\"guests-count\">\n                      <div>Guests</div>\n                      <div>{guestsCount} guest</div>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"price\">\n                  <h5>Price details</h5>\n                    <div className=\"bill-table\">\n                      <div>\n                        <span>\n                          {this.formatCurrency(pricePerNight)} x {dateDiff} nights\n                        </span>\n                        <span>\n                          {this.formatCurrency(total)}\n                        </span>\n                      </div>\n                      <div>\n                        <span>Cleaning fee</span>\n                        <span>{this.formatCurrency(cleaningFee)}</span>\n                      </div>\n                      <div>\n                        <span>Service fee</span>\n                        <span>{this.formatCurrency(serviceFee)}</span>\n                      </div>\n                    </div>\n                    <div className=\"bill-total\">\n                      <span>Total Paid</span>\n                      <span>\n                        {this.formatCurrency(totalDue)}\n                      </span>\n                    </div>\n                </div>\n              </div>\n            </li>\n            <li>\n              <div className=\"confirmation\">\n                <div>\n                  <p>\n                    <strong>\n                      Congratulations. Your booking went through!\n                    </strong>\n                  </p>\n                  <p>You should have received a confirmation email from our team with all the details of your booking. But in the meantime, here is your booking code.</p>\n\n                  <h4><strong>{bookingCode.toUpperCase()}</strong></h4>\n\n                  <p>You will need to keep this code handy if and when you need to speak with any of our support staff.</p>\n                </div>\n                <div>\n                  <p>The property is located at <strong>{address}</strong>, and we wish you a splendid trip.</p>\n                </div>\n                <div className=\"confirmation-action\">\n                  <div className=\"button\" onClick={this.printConfirmation}>Print confirmation</div>\n                  <Link to=\"/\" className=\"button\">Make another booking</Link>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    ); //return\n  } //render\n} // Confirmation class\n\nexport default Confirmation;\n","import React from 'react';\nimport 'react-date-range/dist/styles.css';\nimport 'react-date-range/dist/theme/default.css';\nimport { DateRange } from 'react-date-range';\n\nconst Calendar = (props) => {\n\n  return(\n    <div>\n      <DateRange\n        months={2}\n        direction=\"horizontal\"\n        showDateDisplay={false}\n        onChange={(item) => props.handleSelect(item.selection)}\n        minDate={new Date()}\n        ranges={props.state}\n      />\n\n    </div>\n  ); //return\n}; //Calendar\n\nexport default Calendar\n","import React, { useEffect, useState } from 'react';\nimport queryString from 'query-string';\nimport Calendar from './Calendar';\n\nconst SearchBar = (props) => {\n\n  const [state, setState] = useState([\n    {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection'\n    }\n  ]);\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchAttempt, setSearchAttempt] = useState(false);\n  const [startDate, setStartDate] = useState('Select date');\n  const [endDate, setEndDate] = useState('Select date');\n  const [calendarShow, setCalendarShow] = useState(false);\n  const [count] = useState(0);\n\n  const toggleCalendar = value => {\n    setCalendarShow(value);\n    if(!value && props.showSearch) props.toggleSearch()\n  }\n\n  const clearCalendar = () => {\n    const state = {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: 'selection'\n    }\n\n    setState([state]);\n    setStartDate('Select date');\n    setEndDate('Select date');\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if(searchTerm && startDate !== 'Select date'){\n      setCalendarShow(false);\n      if(props.showSearch) props.toggleSearch()\n\n      props.history.push({\n        pathname: '/search',\n        search: '?' + new URLSearchParams({\n          location: searchTerm,\n          checkin: startDate.toLocaleDateString('en-GB').split('/').join('-'),\n          checkout: endDate.toLocaleDateString('en-GB').split('/').join('-')\n        }).toString()\n      });\n    } else {\n      setSearchAttempt(true)\n    }\n  };\n\n  const handleSearchTerm = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSelect = (selection) => {\n    setState([selection]);\n    setStartDate(selection.startDate);\n    setEndDate(selection.endDate);\n  }\n\n  useEffect( () => {\n    if(props.showSearch){\n      const search = props.location.search\n      let startDate = (queryString.parse(search).checkin).split('-')\n      let endDate = (queryString.parse(search).checkout).split('-')\n\n      startDate = new Date(startDate[2],startDate[1]-1,startDate[0])\n      endDate = new Date(endDate[2],endDate[1]-1,endDate[0])\n\n      const state = {\n        startDate: startDate,\n        endDate: endDate,\n        key: 'selection'\n      }\n\n      setCalendarShow(true)\n      setSearchTerm(queryString.parse(search).location);\n      setStartDate(startDate);\n      setEndDate(endDate);\n      setState([state])\n    }\n  }, [count])\n\n  return(\n    <div>\n        <div className=\"search-wrapper\">\n          <div className=\"search-item\">\n            <div className=\"offset\">Location</div>\n            <input\n              className={\n                searchTerm ? 'offset' : searchAttempt ? 'offset highlight' : 'offset'\n              }\n              placeholder=\"Enter a location...\"\n              value={searchTerm}\n              onChange={handleSearchTerm}>\n            </input>\n          </div>\n\n          <div className=\"search-item dates\" onClick={() => toggleCalendar(true)}>\n            <div className=\"offset\">Check in</div>\n            <div className=\"offset\">\n              {\n                Object.prototype.toString.call(startDate) === \"[object Date]\" ?\n                startDate.toLocaleDateString('en-GB') :\n                startDate\n              }\n            </div>\n          </div>\n\n          <div className=\"search-item dates\" onClick={() => toggleCalendar(true)}>\n            <div className=\"offset\">Check out</div>\n            <div className=\"offset\">\n              {\n                Object.prototype.toString.call(endDate) === \"[object Date]\" ?\n                endDate.toLocaleDateString('en-GB') :\n                endDate\n              }\n            </div>\n          </div>\n\n          <div>\n            <button className=\"search-button\" onClick={handleSubmit}>\n              &#x1F50D;\n            </button>\n          </div>\n        </div>\n        {\n          calendarShow === true ?\n            <div className=\"search-calendar\">\n              <Calendar state={state} handleSelect = {handleSelect} />\n              <div className=\"calendar action\">\n                <span className=\"button\" onClick={ clearCalendar }>\n                  Clear dates\n                </span>\n                <span className=\"button\" onClick={ () => toggleCalendar(false) }>\n                  Close\n                </span>\n              </div>\n            </div>\n            : null\n        }\n    </div>\n  );\n}\n\nexport default SearchBar\n","import React from 'react';\nimport SearchBar from './search/SearchBar'\nimport './search/Search.css'\n\n\nconst Home = (props) => {\n  return (\n    <div className=\"hero\">\n      <div className=\"hero-search\">\n        <SearchBar {...props}/>\n      </div>\n      <div className=\"container hero-heading\">\n        <h1>Go</h1>\n        <h1>Near</h1>\n        <span>Explore nearby stays</span>\n      </div>\n    </div>\n  ); //return\n}; //Home\n\nexport default Home;\n","import React from 'react';\n// import {Route, Link, HashRouter as Router} from 'react-router-dom';\n// import axios from 'axios';\n\nimport '../App.css'\n\n\nclass Header extends React.Component {\n  render(){\n    return(\n      <div className=\"header\">\n        <div>\n          <a href=\"https://www.google.com/search?q=covid+safe\" target=\"_blank\" rel=\"noreferrer\">Learn more about COVID-19 safe measures</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header'\nimport SearchBar from './search/SearchBar'\nimport '../App.css'\n\n\nclass Navigation extends React.Component {\n  state = {\n    showSearch: false\n  }\n\n  showSearch = () => {\n    this.setState({\n      showSearch: !this.state.showSearch\n    })\n  }\n\n  render(){\n    const navClass =\n      this.props.location.pathname.includes('search') ?\n      \"nav-wrapper stay\" : \"nav-wrapper\"\n\n    return(\n      <div>\n        {\n          this.props.location.pathname.includes('search') ?\n          null : <Header />\n        }\n\n        <div className={navClass}>\n          <div className=\"container\">\n            <nav className=\"nav\">\n              <div className=\"logo\">\n                <Link to=\"/\" >aircnb</Link>\n              </div>\n              {\n                !this.props.location.pathname.includes('search') ?\n                  null : this.state.showSearch ?\n                  <div>\n                    <SearchBar {...this.props}\n                      toggleSearch={this.showSearch} showSearch={this.state.showSearch}/>\n                  </div> :\n                  <div className=\"search-trigger\" onClick={this.showSearch}>\n                    <div>Start your search</div>\n                    <button className=\"search-trigger-button\" >\n                      &#x1F50D;\n                    </button>\n                  </div>\n              }\n              <div>\n                <Link to=\"/\" className=\"nav-links\"> Home </Link>\n                {\n                  this.props.isLoggedIn ?\n                  <>\n                    <Link className=\"nav-links\" onClick={this.props.handleLogout}>Logout</Link>\n                    <span style={{padding:'20px'}}>Welcome,&nbsp;\n                      {\n                        JSON.parse(sessionStorage.getItem('user')).name\n                      }\n                    </span>\n                  </>\n                  :\n                  <Link className=\"nav-links\" onClick={ () => this.props.switchAuthForm('login', true) }>Login</Link>\n                }\n              </div>\n            </nav>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Navigation\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import axios from 'axios';\n// import Terms from './Terms'\nimport '../App.css'\n\n\n\nclass Footer extends React.Component {\n  render(){\n    return(\n      <footer className=\"footer\">\n        <div className=\"container\">\n          <span>&copy; 2021 AirCnB</span>\n          <Link to=\"/About\" > About us </Link> |\n          <Link to=\"/Terms\" > Terms &amp; Conditions</Link> |\n          <Link to=\"/Contact\" > Contact us</Link>\n        </div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React from 'react';\n// import {Route, Link, HashRouter as Router} from 'react-router-dom';\n// import axios from 'axios';\n\nimport '../App.css'\n\n\n// class Terms extends React.Component {\n  const Terms = (props) => {\n  // render(){\n  // console.log(props.history);\n    return(\n      <div className=\"Terms\">\n        <h2> AirCnB TERMS AND CONDITIONS </h2>\n        <br />\n        <p>\n          Please take the time to read these terms and conditions.  By using Our Website and the Services and information offered on Our Website, you are agreeing to these terms and conditions.\n        </p>\n\n        <p>\n          If you purchase products through our Website, there will be additional terms and conditions relating to the purchase.  Please make sure you agree with these terms and conditions, which you will be directed to read prior to making your purchase.\n        </p>\n        <br />\n        <p>\n          <h4> Definitions</h4>\n          Services means the user or users who reserves a house has the right to stay in the facilities for the time of the booking.\n          the Website means the website AirCnB.com\n\n        </p>\n\n        <p>\n          We / Us etc means AirCnB Pty Ltd and any subsidiaries, affiliates, employees, officers, agents or assigns.\n\n        </p>\n        <br />\n        <p>\n          <h4> Accuracy of content</h4>\n          We have taken proper care and precautions to ensure that the information we provide on this Website is accurate.  However, we cannot guarantee, nor do we accept any legal liability arising from or connected to, the accuracy, reliability, currency or completeness of anything contained on this Website or on any linked site.\n\n        </p>\n\n        <p>\n          The information contained on this Website should not take the place of professional advice.\n\n        </p>\n        <br />\n        <p>\n          <h4> Use </h4>\n          The Website is made available for your use on your acceptance and compliance with these terms and conditions.  By using this Website, you are agreeing to these terms and conditions.\n\n        </p>\n\n        <p>\n          You agree that you will use this website in accordance with all applicable local, state, national and international laws, rules and regulations.\n          You agree that you will not use, nor will you allow or authorise any third party to use, the Website for any purpose that is unlawful, defamatory, harassing, abusive, fraudulent or obscene way or in any other inappropriate way or in a way which conflicts with the Website or the Services.\n          If you contribute to our forum (if any) or make any public comments on this Website which are, in our opinion, unlawful, defamatory, harassing, abusive, fraudulent or obscene or in any other way inappropriate or which conflict with the Website or the Services offered, then we may at our discretion, refuse to publish such comments and/or remove them from the Website.\n\n        </p>\n\n        <p>\n          We reserve the right to refuse or terminate service to anyone at any time without notice or reason.\n\n        </p>\n        <br />\n        <p>\n          <h4> Passwords and logins </h4>\n          You are responsible for maintaining the confidentiality of your passwords and login details and for all activities carried out under your password and login.\n\n        </p>\n        <br />\n        <p>\n\n          <h4> Indemnification for loss or damage </h4>\n          You agree to indemnify Us and hold Us harmless from and against any and all liabilities or expenses arising from or in any way related to your use of this Website or the Services or information offered on this Website, including any liability or expense arising from all claims, losses, damages (actual and consequential), suits, judgments, litigation costs and solicitors fees of every kind and nature incurred by you or any third parties through you.\n\n        </p>\n        <br />\n        <p>\n          <h4> Intellectual property and copyrights</h4>\n\n          We hold the copyright to the content of this Website, including all uploaded files, layout design, data, graphics, articles, file content, codes, news, tutorials, videos, reviews, forum posts and databases contained on the Website or in connection with the Services. You must not use or replicate our copyright material other than as permitted by law.  Specifically, you must not use or replicate our copyright material for commercial purposes unless expressly agreed to by Us, in which case we may require you to sign a Licence Agreement.\n\n        </p>\n\n        <p>\n          If you wish to use content, images or other of our intellectual property, you should submit your request to us at the following email address:\n          customer.support@airCnB.com\n        </p>\n        <br />\n        <p>\n          <h4> Trademarks </h4>\n\n          The trademarks and logos contained on this Website are trademarks of airCnB Pty Ltd].  Use of these trademarks is strictly prohibited except with Our express, written consent.\n\n        </p>\n        <br />\n        <p>\n          <h4>Links to external websites </h4>\n\n          This Website may contain links that direct you outside of this Website.  These links are provided for your convenience and are not an express or implied indication that we endorse or approve of the linked Website, its contents or any associated website, product or service.  We accept no liability for loss or damage arising out of or in connection to your use of these sites.\n        </p>\n\n        <p>\n          You may link to our articles or home page.  However, you should not provide a link which suggests any association, approval or endorsement on our part in respect to your website, unless we have expressly agreed in writing.  We may withdraw our consent to you linking to our site at any time by notice to you.\n        </p>\n        <br />\n        <p>\n          <h4> Limitation of Liability </h4>\n\n          We take no responsibility for the accuracy of any of the content or statements contained on this Website or in relation to our Services.  Statements made are by way of general comment only and you should satisfy yourself as to their accuracy.  Further, all of our Services are provided without a warranty with the exception of any warranties provided by law.\n        </p>\n\n        <p>\n          We are not liable for any damages whatsoever, incurred as a result of or relating to the use of the Website or our Services.\n        </p>\n        <br />\n        <p>\n          <h4> Information Collection </h4>\n\n          Use of information you have provided us with, or that we have collected and retained relating to your use of the Website and/or our Services, is governed by our Privacy Policy.  By using this Website and the Services associated with this Website, you are agreeing to the Privacy Policy.  To view our Privacy Policy and read more about why we collect personal information from you and how we use that information, click here.\n\n        </p>\n        <br />\n        <p>\n          <h4> Confidentiality </h4>\n          All personal information you give us will be dealt with in a confidential manner in accordance with our Privacy Policy.  However, due to circumstances outside of our control, we cannot guarantee that all aspects of your use of this Website will be confidential due to the potential ability of third parties to intercept and access such information.\n\n        </p>\n        <br />\n        <p>\n          <h4> Governing Law</h4>\n\n          These terms and conditions are governed by and construed in accordance with the laws of NSW, Australia.  Any disputes concerning this website are to be resolved by the courts having jurisdiction in NSW.\n          We retain the right to bring proceedings against you for breach of these Terms and Conditions, in your country of residence or any other appropriate country or jurisdiction.\n\n        </p>\n\n\n\n        Copyright &copy; 2021 AirCnB        www.airCnB.com\n\n\n      </div>\n    );\n\n}\n\nexport default Terms;\n","import React from 'react';\n// import {Route, Link, HashRouter as Router} from 'react-router-dom';\nimport axios from 'axios';\n\nimport '../App.css'\n\n\n// class Terms extends React.Component {\n  class Contact extends React.Component {\n\n    constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      booking:'',\n      response:''\n    }\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n      axios({\n      method: \"POST\",\n      url:\"https://aircnb.herokuapp.com/contact/create\",\n      data:  this.state,\n      withCredentials: true\n    }).then((response)=>{\n      console.log(response.data.sent);\n      this.setState({response:response.data.sent})\n      this.resetForm()\n      setTimeout(()=>this.setState({response:''}), 2000)\n    })\n    .catch(console.warn)\n  } //handleSubmit\n\n  resetForm(){\n    this.setState({name: '', email: '', message: '', booking:''})\n  }\n\n\n\n  onNameChange(event) {\n     this.setState({name: event.target.value})\n   }\n\n   onEmailChange(event) {\n     this.setState({email: event.target.value})\n   }\n\n   onBookingChange(event) {\n     this.setState({booking: event.target.value})\n   }\n\n   onMessageChange(event) {\n     console.log(event);\n     this.setState({message: event.target.value})\n   }\n\n\n  render(){\n  // console.log(props.history);\n    return(\n      <div className=\"Terms\">\n        <h2> Contact Us </h2>\n        <br />\n\n        <p>\n          If you have any queries about a property, a booking or just want us to send your feedback please enter your details below:\n        </p>\n\n        <br />\n        {this.state.response === true ? <p> message sent </p> : <p> </p> }\n\n        <form id=\"contact-form\" onSubmit={this.handleSubmit.bind(this)} method=\"POST\">\n         <div className=\"form-group\">\n           <label htmlFor=\"name\">Name</label>\n           <input type=\"text\" className=\"form-control\" value={this.state.name} onChange={this.onNameChange.bind(this)} />\n         </div>\n         <br />\n         <div className=\"form-group\">\n           <label htmlFor=\"exampleInputEmail1\">Email address</label>\n           <input type=\"email\" className=\"form-control\" aria-describedby=\"emailHelp\" value={this.state.email} onChange={this.onEmailChange.bind(this)} />\n         </div>\n         <br />\n           <div className=\"form-group\">\n             <label htmlFor=\"booking\">Booking Code (optional)</label>\n             <input type=\"booking\" className=\"form-control\" value={this.state.booking} onChange={this.onBookingChange.bind(this)} />\n           </div>\n         <br />\n         <div className=\"form-group\">\n           <label htmlFor=\"message\">Message</label>\n           <textarea className=\"form-control\" rows=\"5\" value={this.state.message} onChange={this.onMessageChange.bind(this)} />\n         </div>\n         <br />\n         <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n       </form>\n\n\n     </div>\n   );\n }\n}\n\n\n\n\nexport default Contact;\n","import React from 'react';\n// import {Route, Link, HashRouter as Router} from 'react-router-dom';\n// import axios from 'axios';\n\nimport '../App.css'\n\n\n// class Terms extends React.Component {\n  const About = (props) => {\n  // render(){\n  // console.log(props.history);\n    return(\n      <div className=\"Terms\">\n        <h2> AirCnB - ABOUT US </h2>\n        <br />\n        <br />\n        <p>\n          Welcome to AirCnB, the platform that let you book a property for short and long stay around Australia.\n        </p>\n        <br />\n        <p>\n          We're dedicated to giving you the very best of quality in our properties, with a focus on price, comfort and service.\n\n        </p>\n        <br />\n        <p>\n\n          Founded in 2021 by a partnership of four colleagues, AirCnB has come a long way from its beginnings in NSW. When the partnership first started out, their passion for rent the best property in the are drove them to keep researching the best properties around Australia so that AirCnB can offer you \"the best quality and price \". We now serve customers all over Australia, and are thrilled that we're able to turn our passion into our own website.\n\n\n\n\n\n        </p>\n        <br />\n        <p>\n          We hope you enjoy our properties as much as we enjoy offering them to you. If you have any questions or comments, please don't hesitate to contact us.\n\n\n\n\n        </p>\n        <br />\n        <p>\n          Sincerely,\n\n\n\n        </p>\n\n        <p>\n          Kyle, Stacey, John and David\n        </p>\n\n        \n\n      </div>\n    );\n\n}\n\nexport default About;\n","import React from 'react';\n// import axios from 'axios';\nimport '../App.css'\n\n\n\n\nconst ReservationsProfile = (props)=>{\n  return(\n    <div className=\"App\">\n\n        <h4> Booking  {props.reservation.booking_code}   </h4>\n\n        <ul>\n          <li>Reserved on: {props.reservation.created_at}</li>\n          <li>From Date: {props.reservation.from_date}</li>\n          <li>To Date: {props.reservation.to_date}</li>\n          <li>Guests: {props.reservation.guests_count}</li>\n          <li>Total Paid: {props.reservation.total_paid}</li>\n\n\n        </ul>\n        <br />\n\n\n\n    </div>\n  )\n}\n\n\n\nexport default ReservationsProfile\n","import React from 'react';\nimport axios from 'axios';\nimport '../App.css'\n\nconst BASE_URL = \"https://aircnb.herokuapp.com\";\n\nclass ReviewForm extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n        comment: '',\n        rating:'',\n        reservation_id: this.props.reservationid,\n        isUpdate: false,\n        response: false\n      }\n    }\n\n    componentDidMount(){\n      console.log(\"data: \", this.props.data);\n      this.props.data[0].reviews.forEach((item)=>{\n\n        if (item.reservation_id === this.props.reservationid){\n          console.log(\"equal?:\",item.reservation_id,this.props.reservationid);\n          this.setState({\n            comment: item.comment,\n            rating: item.rating,\n            review_id: item.id,\n          })\n          this.setState({isUpdate: true})\n          // console.log(\"staste:\",this.state.review.reservation_id);\n        }\n      })\n    }\n\n    handleSubmit(event){\n      event.preventDefault();\n      console.log(\"check\",this.state);\n      if(this.state.isUpdate === true){\n        axios.put(BASE_URL + \"/reviews/\" + this.state.review_id + \"\",\n        {\n          rating: this.state.rating,\n          comment: this.state.comment,\n          reservation_id: this.state.reservation_id,\n         },\n        { withCredentials: true }\n        )\n        .then((response)=>{\n          // console.log(response.data);\n          this.setState({response:true})\n          setTimeout(()=>{\n            this.setState({response:false});\n          })\n        })\n        .catch(console.warn)\n      }else{\n        console.log(\"Im in the wrong place\",this.state);\n        axios.post(BASE_URL + \"/reviews\",\n        {\n          rating: this.state.rating,\n          comment: this.state.comment,\n          reservation_id: this.state.reservation_id,\n         },\n        { withCredentials: true }\n        )\n        .then((response)=>{\n          // console.log(response.data);\n          this.setState({response:true})\n          setTimeout(()=>{\n            this.setState({response:false});\n          })\n        })\n        .catch(console.warn)\n      }\n\n    } //handleSubmit\n\n\n    onRatingChange(event) {\n      this.setState({\n        rating: event.target.value\n      })\n    }\n\n    onCommentChange(event) {\n      this.setState({\n        comment: event.target.value\n      })\n    }\n\n\n  render(){\n    // console.log(\"data is\",this.state.review);\n    return(\n      <div>\n\n        {\n          this.state.response === true ? <p>Submitted</p> : null\n        }\n\n\n      <form id=\"submit-review\" onSubmit={this.handleSubmit.bind(this)} method=\"POST\">\n       <div className=\"form-group\">\n         <label htmlFor=\"rating\">Rating (0-5)</label>\n         <input type=\"number\" id=\"quantity\" name=\"quantity\" min=\"1\" max=\"5\" className=\"form-control\"  value={this.state.rating} onChange={this.onRatingChange.bind(this)} />\n       </div>\n       <br />\n         <div className=\"form-group\">\n           <label htmlFor=\"review\">Comment </label>\n           <textarea className=\"form-control\" rows=\"5\" value={this.state.comment} onChange={this.onCommentChange.bind(this)} />\n         </div>\n\n       <br />\n       <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n     </form>\n\n\n\n      </div>\n    )\n  }\n}\n\nexport default ReviewForm\n","import React from 'react';\nimport axios from 'axios';\nimport '../App.css';\nimport ReservationsProfile from './ReservationsProfile';\nimport ReviewForm from './ReviewForm';\n\nconst BASE_URL = 'https://aircnb.herokuapp.com'\n\nclass UserProfile extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n        user_id: 241,\n        about_info:'',\n        name:'',\n        email_confirmed:false,\n        identity_confirmed:false,\n        reservations:[],\n        reviews:[],\n        data:[]\n      }\n    }\n\n\n    componentDidMount(){\n      axios.get(BASE_URL + '/users/' + this.state.user_id + '.json')\n      .then((res)=> {\n        console.log(\"data\",res.data);\n        this.setState({\n          about_info:res.data[0].about_info,\n          name:res.data[0].name,\n          email_confirmed:res.data[0].email_confirmed,\n          identity_confirmed:res.data[0].identity_confirmed,\n          reservations:res.data[0].reservations,\n          reviews:res.data[0].reviews,\n          data:res.data\n        })\n      })\n      .catch(console.warn)\n\n    }\n\n  render(){\n      // console.log(\"Logitout\",this.state.reservations);\n    return(\n      <div className=\"Terms\">\n        <h1> Hi, I'm {this.state.name} </h1>\n        <br />\n\n        <div>\n          <h2> About me  </h2>\n          <hr />\n          <br />\n          <p>\n            {this.state.about_info}\n\n          </p>\n\n          <br />\n\n          <div>\n              <hr />\n            <p>\n              Email Confirmed: {\n\n                this.state.email_confirmed === true? <img src='https://chart.googleapis.com/chart?chst=d_text_outline&chld=FFCC33%7C16%7Ch%7C008000%7Cb%7CConfirmed' /> : <img src='https://chart.googleapis.com/chart?chst=d_text_outline&chld=FFCC33%7C16%7Ch%7CFF0000%7Cb%7CNot Confirmed' />\n\n               }\n\n            </p>\n\n            <p>\n              Identity Confirmed: {\n\n                this.state.identity_confirmed === true? <img src='https://chart.googleapis.com/chart?chst=d_text_outline&chld=FFCC33%7C16%7Ch%7C008000%7Cb%7CConfirmed' /> : <img src='https://chart.googleapis.com/chart?chst=d_text_outline&chld=FFCC33%7C16%7Ch%7CFF0000%7Cb%7CNot Confirmed' />\n\n               }\n            </p>\n          </div>\n          <hr />\n          <br />\n\n          <div>\n\n            <h2> Reservations  </h2>\n            {\n\n              this.state.reservations.map((data,index)=> <div key={index}> <span> <ReservationsProfile reservation={data}/> </span> <span> <ReviewForm data={this.state.data} reservationid={data.id} userid={this.state.user_id} /> </span> </div>)\n\n            }\n\n\n\n          </div>\n\n\n        </div>\n<div className=\"big-spacer\">\n</div>\n      </div>\n    )\n  }\n}\n\nexport default UserProfile\n","import React from 'react';\nimport { Route, HashRouter as Router } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\n\n// Authentication Components\nimport AuthModal from './components/authentication/AuthModal'\nimport Login from './components/authentication/Login'\nimport Signup from './components/authentication/Signup'\n\n// Reservation components\nimport PropertyList from './components/properties/PropertyList';\nimport Reservation from './components/reservation/Reservation'\n\n// Payment components\nimport Payment from './components/payment/Payment'\nimport Confirmation from './components/payment/Confirmation'\n\n// Common Components\nimport Home from './components/Home';\nimport Navigation from './components/Navigation'\nimport Footer from './components/Footer'\nimport Terms from './components/Terms'\nimport Contact from './components/Contact'\nimport About from './components/About'\nimport UserProfile from './components/UserProfile'\n\n\nconst SERVER_BASE_URL = 'https://aircnb.herokuapp.com';\n\nclass AirBnC extends React.Component {\n  state = {\n    authForm: '',\n    authModalVisible: '',\n    isLoggedIn: '',\n    user: {}\n  }\n\n  getLoginStatus = () =>{\n    axios.get(`${SERVER_BASE_URL}/logged_in`,{\n      withCredentials: true\n    })\n    .then( response => {\n    response.data.logged_in ?\n      this.handleLogin(response.data) :\n      this.handleLogout()\n    })\n    .catch(console.log)\n  }\n\n  toggleAuthModal = () => {\n    this.setState({\n      authModalVisible: false,\n    })\n  }\n\n  switchAuthForm = (form, visible) => {\n    this.setState({\n      authModalVisible: visible,\n      authForm: form\n    })\n  }\n\n  handleLogin = data => {\n    sessionStorage.setItem('user', JSON.stringify(data.user))\n\n    this.setState({\n      authModalVisible: false,\n      user: data.user,\n      isLoggedIn: true\n    })\n  }\n\n  handleLogout = () => {\n    if(this.state.isLoggedIn){\n      axios.delete(`${SERVER_BASE_URL}/login.json`,{\n        withCredentials: true\n      })\n      .then(data => {\n        sessionStorage.removeItem('user')\n        this.setState({\n          user: {},\n          isLoggedIn: false\n        })\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.getLoginStatus()\n  }\n\n  render(){\n    return(\n      <div>\n        <Router>\n\n          <Route path=\"/\" render={ props => <Navigation {...props} isLoggedIn={this.state.isLoggedIn} handleLogout={this.handleLogout} switchAuthForm={this.switchAuthForm} /> } />\n\n          <Route exact path = \"/\" component = {Home} />\n          <Route exact path = \"/About\" component = {About} />\n          <Route exact path = \"/Terms\" component = {Terms} />\n          <Route exact path = \"/Contact\" component = {Contact} />\n\n          <Route exact path=\"/search\" component={PropertyList}/>\n\n          <Route exact path = \"/profile\" component ={UserProfile}  />\n\n          <Route exact path=\"/property/:id\" render={ props => <Reservation {...props} switchAuthForm={ this.switchAuthForm} isLoggedIn={this.state.isLoggedIn} user={this.state.user} /> } />\n\n          <Route exact path=\"/book/:reservation_id/confirmation\" component={Confirmation} />\n\n          <Route exact path=\"/book/:reservation_id\" render={ props => <Payment {...props} isLoggedIn={this.state.isLoggedIn}\n          user={this.state.user} /> } />\n\n\n          {\n            // Authentication Component\n            // Available on all routes\n          }\n          {\n            this.state.authModalVisible &&\n            <AuthModal toggleAuthModal={this.toggleAuthModal}>\n              {\n                this.state.authForm === 'login' ?\n                <Login\n                  handleLogin={ this.handleLogin }\n                  switchAuthForm={ this.switchAuthForm }\n                  /> :\n                <Signup\n                  handleLogin={ this.handleLogin }\n                  switchAuthForm={ this.switchAuthForm }\n                  />\n              }\n            </AuthModal>\n          }\n\n          <Footer />\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default AirBnC;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AirBnC from './AirBnC';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AirBnC />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}