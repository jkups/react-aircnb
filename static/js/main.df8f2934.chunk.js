(this["webpackJsonpreact-air-cnb-app"]=this["webpackJsonpreact-air-cnb-app"]||[]).push([[0],{106:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),r=n(20),c=n.n(r),o=(n(61),n(19)),l=n(2),d=n(3),h=n(5),j=n(4),b=n(15),u=n(8),p=n(6),m=n.n(p),O=n(14),x=(n(17),n(47),n(48),n(32)),g=function(e){var t=Object(a.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),n=Object(O.a)(t,2),i=n[0],r=n[1];return Object(s.jsx)("div",{children:Object(s.jsx)(x.DateRange,{months:2,direction:"horizontal",showDateDisplay:!1,onChange:function(t){r([t.selection]),e.handleSelect([t.selection])},moveRangeOnFirstSelection:!1,ranges:i})})},f=function(e){var t=Object(a.useState)([{startDate:new Date,endDate:null,key:"selection"}]),n=Object(O.a)(t,1)[0],i=Object(a.useState)(),r=Object(O.a)(i,2),c=r[0],o=r[1],l=Object(a.useState)("Select date"),d=Object(O.a)(l,2),h=d[0],j=d[1],b=Object(a.useState)("Select date"),u=Object(O.a)(b,2),p=u[0],m=u[1],x=Object(a.useState)(!1),f=Object(O.a)(x,2),v=f[0],y=f[1],w=function(e){y(e)};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"search-wrapper",children:[Object(s.jsxs)("div",{className:"search-item",children:[Object(s.jsx)("div",{children:"Location"}),Object(s.jsx)("input",{placeholder:"Enter a location...",onChange:function(e){o(e.target.value)}})]}),Object(s.jsxs)("div",{className:"search-item dates",onClick:function(){return w(!0)},children:[Object(s.jsx)("div",{children:"Check in"}),Object(s.jsx)("div",{children:"[object Date]"===Object.prototype.toString.call(h)?h.toLocaleDateString():h})]}),Object(s.jsxs)("div",{className:"search-item dates",onClick:function(){return w(!0)},children:[Object(s.jsx)("div",{children:"Check out"}),Object(s.jsx)("div",{children:"[object Date]"===Object.prototype.toString.call(p)?p.toLocaleDateString():p})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"search-button",onClick:function(t){if(t.preventDefault(),c){var n="/search/"+c+"/"+h+"/"+p;e.history.push(n),y(!1)}},children:"\ud83d\udd0d"})})]}),!0===v?Object(s.jsx)("div",{className:"search-calendar",children:Object(s.jsx)(g,{state:n,handleSelect:function(e){j(e[0].startDate),m(e[0].endDate)}})}):null]})},v=(n(87),function(e){return console.log("history: ",e.history),Object(s.jsxs)("div",{className:"hero",children:[Object(s.jsx)("div",{className:"hero-search",children:Object(s.jsx)(f,Object(o.a)({},e))}),Object(s.jsxs)("div",{className:"container hero-heading",children:[Object(s.jsx)("h1",{children:"Go"}),Object(s.jsx)("h1",{children:"Near"}),Object(s.jsx)("span",{children:"Explore nearby stays"})]})]})}),y=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"auth-modal",children:Object(s.jsx)("div",{className:"auth-wrapper",children:this.props.children})})}}]),n}(i.a.Component),w=n(18),C="http://air-bnb-replication.herokuapp.com",N=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,a=n.password;m.a.post("".concat(C,"/login.json"),{email:s,password:a},{withCredentials:!0}).then((function(t){console.log(t.data),t.data.logged_in&&e.props.handleLogin(t.data)})).catch(console.warn)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"auth-dialog",children:[Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h4",{children:"Login"}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"input",type:"email",name:"email",placeholder:"Enter your email address",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"Enter your password",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"button",type:"submit",children:"Login"})})]}),Object(s.jsx)("span",{onClick:function(){return e.props.toggleAuthModal("signup",!0)},children:"Don't have an account? Signup."})]})}}]),n}(i.a.Component),k="http://air-bnb-replication.herokuapp.com",D=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={name:"",email:"",password:""},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state;m.a.post("".concat(k,"/users.json"),{user:n},{withCredentials:!0}).then((function(t){console.log(t.data),t.data.logged_in&&e.props.handleLogin(t.data)})).catch(console.warn)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"auth-dialog",children:[Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h4",{children:"Signup"}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"input",type:"text",name:"name",placeholder:"Full name",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"input",type:"email",name:"email",placeholder:"Enter your email address",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"Enter your password",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"button",type:"submit",children:"Signup"})})]}),Object(s.jsx)("span",{onClick:function(){return e.props.toggleAuthModal("login",!0)},children:"Have an account? Login."})]})}}]),n}(i.a.Component),S=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={dateRangeReserved:!1},e.componentDidMount=function(){},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.selectionRange;return Object(s.jsx)("div",{children:Object(s.jsx)(x.DateRange,{ranges:[t],months:2,direction:"horizontal",showDateDisplay:!1,onChange:function(t){return e.props.handleSelect(t)}})})}}]),n}(i.a.Component),_="http://air-bnb-replication.herokuapp.com",M=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={showCalendar:!1,guestsCount:1},e.toggleCalendar=function(){e.setState({showCalendar:!e.state.showCalendar})},e.clearCalendar=function(){var t={};t.selection={startDate:new Date,endDate:new Date,key:"selection"},e.props.handleSelect(t)},e.updateGuestsCount=function(t){var n=e.props.property.max_guests,s=e.state.guestsCount;t&&s<n&&s++,!t&&s>1&&s--,e.setState({guestsCount:s})},e.initiateReservation=function(){if(e.props.isLoggedIn){var t={property_id:e.props.property.id,from_date:e.props.selectionRange.startDate,to_date:e.props.selectionRange.endDate,guests_count:e.state.guestsCount,booking_code:Math.random().toString(16).substr(2,8)};m.a.post("".concat(_,"/reservations.json"),{reservation:t},{withCredentials:!0}).then((function(t){e.props.processReservation(t.data)})).catch(console.warn)}else e.props.toggleAuthModal("login",!0)},e.formatCurrency=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.property.listing_price,n=this.props.property.max_guests,a=this.props.property.cleaning_fee,i=this.props.property.service_fee,r=(this.props.selectionRange.endDate-this.props.selectionRange.startDate)/1e3/60/60/24,c=t*r,o=t*r+a+i,l={year:"numeric",month:"short",day:"numeric"},d=r<=0?"Select a date range":"".concat(r," nights");return Object(s.jsxs)("div",{className:"billing",children:[r<=0?Object(s.jsxs)("div",{children:[this.formatCurrency(t)," ",Object(s.jsx)("span",{children:"/night"})]}):Object(s.jsxs)("div",{children:[this.formatCurrency(o)," ",Object(s.jsx)("span",{children:"total"})]}),Object(s.jsxs)("div",{className:"reserve",children:[Object(s.jsxs)("div",{className:"date-range",onClick:this.toggleCalendar,children:[Object(s.jsxs)("div",{className:"date left",children:[Object(s.jsx)("div",{children:"CHECK-IN"}),Object(s.jsx)("div",{children:this.props.selectionRange.startDate.toLocaleDateString()})]}),Object(s.jsxs)("div",{className:"date",children:[Object(s.jsx)("div",{children:"CHECKOUT"}),Object(s.jsx)("div",{children:this.props.selectionRange.endDate.toLocaleDateString()})]})]}),Object(s.jsxs)("div",{className:"guests",children:[Object(s.jsx)("div",{children:"GUESTS"}),Object(s.jsxs)("div",{className:"counter",children:[Object(s.jsx)("span",{onClick:function(){return e.updateGuestsCount(!1)},children:"-"}),Object(s.jsx)("span",{onClick:function(){return e.updateGuestsCount(!0)},children:"+"})]}),Object(s.jsxs)("div",{children:[this.state.guestsCount,this.state.guestsCount>1?" guests":" guest"]})]}),this.state.showCalendar?Object(s.jsxs)("div",{className:"calendar floating",children:[Object(s.jsxs)("div",{className:"date-range floating",children:[Object(s.jsxs)("div",{className:"date left",children:[Object(s.jsx)("div",{children:"CHECK-IN"}),Object(s.jsx)("div",{children:this.props.selectionRange.startDate.toLocaleDateString()})]}),Object(s.jsxs)("div",{className:"date",children:[Object(s.jsx)("div",{children:"CHECKOUT"}),Object(s.jsx)("div",{children:this.props.selectionRange.endDate.toLocaleDateString()})]})]}),Object(s.jsxs)("div",{className:"floating header",children:[Object(s.jsx)("div",{children:d}),Object(s.jsx)("div",{children:r<=0?Object(s.jsx)("span",{children:"Add your travel dates for exact pricing"}):Object(s.jsxs)("span",{children:[new Intl.DateTimeFormat("en-US",l).format(this.props.selectionRange.startDate),"\xa0-\xa0",new Intl.DateTimeFormat("en-US",l).format(this.props.selectionRange.endDate)]})})]}),Object(s.jsx)(S,{handleSelect:this.props.handleSelect,selectionRange:this.props.selectionRange,dateRangeReserved:this.props.property.reservations}),Object(s.jsxs)("div",{className:"calendar action",children:[Object(s.jsx)("span",{onClick:this.clearCalendar,children:"Clear dates"}),Object(s.jsx)("span",{className:"button",onClick:this.toggleCalendar,children:"Close"})]})]}):null,Object(s.jsxs)("span",{children:["You can have a maximum of ",n," guests"]})]}),Object(s.jsx)("div",{children:r<=0?Object(s.jsx)("button",{className:"button",onClick:this.toggleCalendar,children:"Check Availability"}):Object(s.jsx)("button",{className:"button",onClick:this.initiateReservation,children:"Make Reservation"})}),Object(s.jsx)("div",{className:"bill",children:r<=0?Object(s.jsx)("div",{children:Object(s.jsx)("span",{children:"Enter a date range and number of guests to check total lodging price, including any additional fees."})}):Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"You wont be charged yet."}),Object(s.jsx)("span",{children:"Price shown is the total lodging price, including any additional fees."}),Object(s.jsxs)("div",{className:"bill-table",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[this.formatCurrency(t)," x ",r," nights"]}),Object(s.jsx)("span",{children:this.formatCurrency(c)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Cleaning fee"}),Object(s.jsx)("span",{children:this.formatCurrency(a)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Service fee"}),Object(s.jsx)("span",{children:this.formatCurrency(i)})]})]}),Object(s.jsxs)("div",{className:"bill-total",children:[Object(s.jsx)("span",{children:"Total"}),Object(s.jsx)("span",{children:this.formatCurrency(o)})]})]})})]})}}]),n}(i.a.Component),A=(n(88),n(53),n(21)),L=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"Top",children:Object(s.jsx)(A.Map,{google:this.props.google,zoom:11,style:{width:"100%",height:"100%"},initialCenter:this.props.coOrds[0],children:Object(s.jsx)(A.Marker,{id:"1",position:this.props.coOrds[0],onClick:function(){return console.log("You clicked me!")},title:"$100",icon:{url:"https://chart.googleapis.com/chart?chst=d_bubble_icon_texts_big&chld=home|bb|FFFFFF|000000|".concat(this.props.locations.title,"|").concat(this.props.locations.heading,"|$").concat(this.props.locations.listing_price," p/n|Max Guests: ").concat(this.props.locations.max_guests)}},"1")})})}}]),n}(i.a.Component),W=Object(A.GoogleApiWrapper)({apiKey:"AIzaSyAW5MNODxdAncbpnSGtOIl6Gyfjo-e6w3g"})(L),F=function(e){return Object(s.jsxs)("div",{children:[function(){console.log("rating: ",e.review.rating);for(var t=[],n=0;n<e.review.rating;n++)t.push(Object(s.jsx)("span",{children:" \u2b50 "}));return t}(),Object(s.jsx)("p",{children:e.review.comment})]})},T="http://air-bnb-replication.herokuapp.com",B=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={ranges:{startDate:new Date,endDate:new Date,key:"selection"},property:{id:0,heading:"",title:"",address:"",description:"",images:[],max_guests:0,listing_price:0,bedrooms:0,bathrooms:0,amenities:"",cleaning_fee:0,service_fee:0,longitude:-33.8688197,latitude:151.2092955,reviews:[]}},e.handleSelect=function(t){e.setState({ranges:t.selection})},e.processReservation=function(t){var n="/book/".concat(t.id,"/").concat(t.from_date,"/").concat(t.to_date);e.props.history.push(n)},e.componentDidMount=function(){var t="".concat(T,"/properties/").concat(e.props.match.params.listing_id,".json"),n="'".concat(e.props.match.params.startDate,"'"),s="'".concat(e.props.match.params.endDate,"'");m.a.get(t).then((function(t){e.setState({ranges:{startDate:new Date(n),endDate:new Date(s),key:"selection"},property:t.data[0]})}))},e.rating=function(){var t=0,n=0;e.state.property.reviews.forEach((function(e){t+=e.rating,n++}));for(var a=[],i=0;i<t/n;i++)a.push(Object(s.jsx)("span",{children:" \u2b50 "}));return a},e}return Object(d.a)(n,[{key:"render",value:function(){this.state.property.address;var e=[{lng:this.state.property.longitude,lat:this.state.property.latitude}],t=this.state.property.amenities.split(","),n=t.splice(-t.length/2);return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"reservation",children:[Object(s.jsxs)("div",{className:"primary-header",children:[Object(s.jsx)("h3",{children:this.state.property.heading}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:this.state.property.address}),"\xa0\xa0\xb7\xa0\xa0",Object(s.jsx)("span",{children:"5.0 (8)"})]})]}),Object(s.jsx)("div",{className:"image-gallery",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"})}),Object(s.jsxs)("li",{children:[Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"})}),Object(s.jsx)("li",{children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80"})})]}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1584455333741-c8192566df82?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80"})}),Object(s.jsx)("li",{children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1574873215043-44119461cb3b?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"})})]})]})]})}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{className:"left",children:[Object(s.jsxs)("div",{className:"secondary-header",children:[Object(s.jsx)("h4",{children:this.state.property.title}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[this.state.property.max_guests," guests"]})," \xa0\xa0\xb7\xa0\xa0",Object(s.jsxs)("span",{children:[this.state.property.bedrooms," bedroom"]})," \xa0\xa0\xb7\xa0\xa0",Object(s.jsxs)("span",{children:[this.state.property.bathrooms," bathroom"]})]})]}),Object(s.jsx)("div",{className:"description",children:this.state.property.description}),Object(s.jsxs)("div",{className:"amenities",children:[Object(s.jsx)("h4",{children:"Amenities"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:t.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)("span",{children:e})},t)}))}),Object(s.jsx)("li",{children:n.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)("span",{children:e})},t)}))})]})]}),Object(s.jsxs)("div",{className:"amenities",children:[Object(s.jsxs)("h4",{children:["Reviews ",this.rating()]}),this.state.property.reviews.map((function(e,t){return Object(s.jsx)(F,{review:e},t)}))]}),Object(s.jsxs)("div",{className:"map",children:[Object(s.jsx)("h4",{children:"Location"}),Object(s.jsx)("div",{className:"map-wrapper",children:this.state.property.listing_price>0?Object(s.jsx)(W,{coOrds:e,locations:this.state.property}):Object(s.jsx)("p",{children:"Loading..."})})]})]}),Object(s.jsx)("li",{children:Object(s.jsx)("div",{className:"right",children:Object(s.jsx)(M,{toggleAuthModal:this.props.toggleAuthModal,selectionRange:this.state.ranges,property:this.state.property,handleSelect:this.handleSelect,isLoggedIn:this.props.isLoggedIn,processReservation:this.processReservation})})})]})]})})}}]),n}(i.a.Component),I=n(27),P=n(35),R=n.n(P),H=n.p+"static/media/card-logo.bbd80c36.png",G=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={hostedFields:{}},e.updateField=function(t,n){console.log(t);var s=c.a.findDOMNode(Object(I.a)(e)).querySelector(".".concat(t));console.log(s),s.style.borderBottomColor=n},e.componentDidMount=function(){var t={input:{"font-size":"18px",color:"#17a2b8"},"input.invalid":{color:"red"},"input.valid":{color:"green"}},n={cardholderName:{selector:"#cardholder-name",placeholder:"John Doe"},number:{selector:"#card-number",placeholder:"4111 1111 1111 1111"},cvv:{selector:"#cvv",placeholder:"123"},expirationDate:{selector:"#expiration",placeholder:"MM/YY"}};R.a.client.create({authorization:"sandbox_q7bzcx2z_qjd7x8wgzkgmfrz5"}).then((function(e){return R.a.hostedFields.create({client:e,styles:t,fields:n})})).then((function(t){t.on("empty",(function(t){e.updateField(t.emittedBy,"")})),t.on("cardTypeChange",(function(e){1===e.cards.length&&(4===e.cards[0].code.size?t.setAttribute({field:"cvv",attribute:"placeholder",value:"1234"}):t.setAttribute({field:"cvv",attribute:"placeholder",value:"123"}))})),e.setState({hostedFields:t})})).catch((function(e){e&&console.error(e)}))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.hostedFields.getState();if(Object.keys(n.fields).every((function(e){return n.fields[e].isValid}))){var s=c.a.findDOMNode(Object(I.a)(e)).querySelector("#cardholder-name").value;e.state.hostedFields.tokenize({cardholderName:s}).then((function(t){e.props.processPayment(t.nonce)})).catch(console.warn)}else console.log("error")},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"braintree",children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:H,className:"card-logo"})}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{htmlFor:"cardholder-name",children:"Name on Card"}),Object(s.jsx)("div",{id:"cardholder-name"}),Object(s.jsx)("label",{htmlFor:"card-number",children:"Card Number"}),Object(s.jsx)("div",{id:"card-number"}),Object(s.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(s.jsx)("div",{id:"cvv"}),Object(s.jsx)("label",{htmlFor:"expiration",children:"Expiration Date"}),Object(s.jsx)("div",{id:"expiration"}),Object(s.jsx)("input",{className:"button",id:"pay",type:"submit",value:"Pay with Card"})]})]})}}]),n}(i.a.Component),U=(n(106),"http://air-bnb-replication.herokuapp.com"),Y=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={from_date:"2021-01-01",to_date:"2021-01-01",total_due:0,guests_count:0,property:{heading:"",title:"",address:"",bedrooms:0,bathrooms:0,cleaning_fee:0,service_fee:0,listing_price:0}},e.processPayment=function(t){var n=e.props.match.params.reservation_id,s=e.props.user.id;m.a.post("".concat(U,"/pay/").concat(n),{nonce:t,user_id:s},{withCredentials:!0}).then((function(t){var n=e.props.match.params.reservation_id;e.props.history.push("/book/".concat(n,"/confirmation"))})).catch(console.warn)},e.formatCurrency=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},e.componentDidMount=function(){var t=e.props.match.params.reservation_id;m.a.get("".concat(U,"/reservations/").concat(t,".json"),{withCredentials:!0}).then((function(t){e.setState(t.data)})).catch(console.warn)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=new Date(this.state.from_date),t=new Date(this.state.to_date),n=this.state.guests_count,a=this.state.total_due,i=this.state.property.listing_price,r=this.state.property.cleaning_fee,c=this.state.property.service_fee,o=this.state.property.heading,l=this.state.property.title,d=this.state.property.bedrooms,h=this.state.property.bathrooms,j=(t-e)/1e3/60/60/24,b=i*j;return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"payment",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{}),Object(s.jsx)("h3",{children:"Confirm and pay"})]}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"right",children:[Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"property-image",children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",width:"100%"})}),Object(s.jsxs)("li",{className:"property-details",children:[Object(s.jsx)("div",{children:l}),Object(s.jsx)("div",{children:o}),Object(s.jsxs)("div",{children:[d," bed\xa0\xb7\xa0",h," bath"]}),Object(s.jsx)("div",{children:"5.0 (8)"})]})]}),Object(s.jsxs)("div",{className:"trip",children:[Object(s.jsx)("h5",{children:"Your trip"}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{className:"dates",children:[Object(s.jsx)("div",{children:"Dates"}),Object(s.jsxs)("div",{children:[e.toLocaleDateString()," - ",t.toLocaleDateString()]})]}),Object(s.jsxs)("li",{className:"guests-count",children:[Object(s.jsx)("div",{children:"Guests"}),Object(s.jsxs)("div",{children:[n," guest"]})]})]})]}),Object(s.jsxs)("div",{className:"price",children:[Object(s.jsx)("h5",{children:"Price details"}),Object(s.jsxs)("div",{className:"bill-table",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[this.formatCurrency(i)," x ",j," nights"]}),Object(s.jsx)("span",{children:this.formatCurrency(b)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Cleaning fee"}),Object(s.jsx)("span",{children:this.formatCurrency(r)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Service fee"}),Object(s.jsx)("span",{children:this.formatCurrency(c)})]})]}),Object(s.jsxs)("div",{className:"bill-total",children:[Object(s.jsx)("span",{children:"Total Due"}),Object(s.jsx)("span",{children:this.formatCurrency(a)})]})]})]})}),Object(s.jsx)("li",{children:Object(s.jsx)(G,{processPayment:this.processPayment})})]})]})})}}]),n}(i.a.Component),E="http://air-bnb-replication.herokuapp.com",q=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={reservation:{from_date:"2021-01-01",to_date:"2021-01-01",total_due:0,guests_count:0,booking_code:"",property:{heading:"",title:"",address:"",bedrooms:0,bathrooms:0,cleaning_fee:0,service_fee:0,listing_price:0}}},e.formatCurrency=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},e.printConfirmation=function(){window.print()},e.componentDidMount=function(){var t=e.props.match.params.reservation_id;m.a.get("".concat(E,"/reservations/").concat(t,".json"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({reservation:t.data})})).catch(console.warn)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.reservation,t=this.state.reservation.property,n=new Date(e.from_date),a=new Date(e.to_date),i=e.booking_code,r=e.guests_count,c=e.total_due,o=t.address,l=t.listing_price,d=t.cleaning_fee,h=t.service_fee,j=t.heading,u=t.title,p=t.bedrooms,m=t.bathrooms,O=(a-n)/1e3/60/60/24,x=l*O;return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"payment",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{}),Object(s.jsx)("h3",{children:"Booking confirmation"})]}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"right",children:[Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"property-image",children:Object(s.jsx)("img",{src:"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",width:"100%"})}),Object(s.jsxs)("li",{className:"property-details",children:[Object(s.jsx)("div",{children:u}),Object(s.jsx)("div",{children:j}),Object(s.jsxs)("div",{children:[p," bed\xa0\xb7\xa0",m," bath"]}),Object(s.jsx)("div",{children:"5.0 (8)"})]})]}),Object(s.jsxs)("div",{className:"trip",children:[Object(s.jsx)("h5",{children:"Your trip"}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{className:"dates",children:[Object(s.jsx)("div",{children:"Dates"}),Object(s.jsxs)("div",{children:[n.toLocaleDateString()," - ",a.toLocaleDateString()]})]}),Object(s.jsxs)("li",{className:"guests-count",children:[Object(s.jsx)("div",{children:"Guests"}),Object(s.jsxs)("div",{children:[r," guest"]})]})]})]}),Object(s.jsxs)("div",{className:"price",children:[Object(s.jsx)("h5",{children:"Price details"}),Object(s.jsxs)("div",{className:"bill-table",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[this.formatCurrency(l)," x ",O," nights"]}),Object(s.jsx)("span",{children:this.formatCurrency(x)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Cleaning fee"}),Object(s.jsx)("span",{children:this.formatCurrency(d)})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Service fee"}),Object(s.jsx)("span",{children:this.formatCurrency(h)})]})]}),Object(s.jsxs)("div",{className:"bill-total",children:[Object(s.jsx)("span",{children:"Total Paid"}),Object(s.jsx)("span",{children:this.formatCurrency(c)})]})]})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"confirmation",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("strong",{children:"Congratulations. Your booking went through!"})}),Object(s.jsx)("p",{children:"You should have received a confirmation email from our team with all the details of your booking. But in the meantime, here is your booking code."}),Object(s.jsx)("h4",{children:Object(s.jsx)("strong",{children:i.toUpperCase()})}),Object(s.jsx)("p",{children:"You will need to keep this code handy if and when you need to speak with any of our support staff."})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["The property is located at ",Object(s.jsx)("strong",{children:o}),", and we wish you a splendid trip."]})}),Object(s.jsxs)("div",{className:"confirmation-action",children:[Object(s.jsx)("div",{className:"button",onClick:this.printConfirmation,children:"Print confirmation"}),Object(s.jsx)(b.b,{to:"/",className:"button",children:"Make another booking"})]})]})})]})]})})}}]),n}(i.a.Component),z=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://www.google.com/search?q=covid+safe",target:"_blank",rel:"noreferrer",children:"Learn more about COVID-19 safe measures"})})})}}]),n}(i.a.Component),V=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsx)("footer",{className:"footer",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("span",{children:"\xa9 2021 AirCnB"}),Object(s.jsx)(b.b,{to:"/About",children:" About us "})," |",Object(s.jsx)(b.b,{to:"/Terms",children:" Terms & Conditions"})," |",Object(s.jsx)(b.b,{to:"/Contact",children:" Contact us"})]})})}}]),n}(i.a.Component),K=function(e){return Object(s.jsxs)("div",{className:"Terms",children:[Object(s.jsx)("h2",{children:" AirCnB TERMS AND CONDITIONS "}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Please take the time to read these terms and conditions.  By using Our Website and the Services and information offered on Our Website, you are agreeing to these terms and conditions."}),Object(s.jsx)("p",{children:"If you purchase products through our Website, there will be additional terms and conditions relating to the purchase.  Please make sure you agree with these terms and conditions, which you will be directed to read prior to making your purchase."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Definitions"}),"Services means the user or users who reserves a house has the right to stay in the facilities for the time of the booking. the Website means the website AirCnB.com"]}),Object(s.jsx)("p",{children:"We / Us etc means AirCnB Pty Ltd and any subsidiaries, affiliates, employees, officers, agents or assigns."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Accuracy of content"}),"We have taken proper care and precautions to ensure that the information we provide on this Website is accurate.  However, we cannot guarantee, nor do we accept any legal liability arising from or connected to, the accuracy, reliability, currency or completeness of anything contained on this Website or on any linked site."]}),Object(s.jsx)("p",{children:"The information contained on this Website should not take the place of professional advice."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Use "}),"The Website is made available for your use on your acceptance and compliance with these terms and conditions.  By using this Website, you are agreeing to these terms and conditions."]}),Object(s.jsx)("p",{children:"You agree that you will use this website in accordance with all applicable local, state, national and international laws, rules and regulations. You agree that you will not use, nor will you allow or authorise any third party to use, the Website for any purpose that is unlawful, defamatory, harassing, abusive, fraudulent or obscene way or in any other inappropriate way or in a way which conflicts with the Website or the Services. If you contribute to our forum (if any) or make any public comments on this Website which are, in our opinion, unlawful, defamatory, harassing, abusive, fraudulent or obscene or in any other way inappropriate or which conflict with the Website or the Services offered, then we may at our discretion, refuse to publish such comments and/or remove them from the Website."}),Object(s.jsx)("p",{children:"We reserve the right to refuse or terminate service to anyone at any time without notice or reason."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Passwords and logins "}),"You are responsible for maintaining the confidentiality of your passwords and login details and for all activities carried out under your password and login."]}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Indemnification for loss or damage "}),"You agree to indemnify Us and hold Us harmless from and against any and all liabilities or expenses arising from or in any way related to your use of this Website or the Services or information offered on this Website, including any liability or expense arising from all claims, losses, damages (actual and consequential), suits, judgments, litigation costs and solicitors fees of every kind and nature incurred by you or any third parties through you."]}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Intellectual property and copyrights"}),"We hold the copyright to the content of this Website, including all uploaded files, layout design, data, graphics, articles, file content, codes, news, tutorials, videos, reviews, forum posts and databases contained on the Website or in connection with the Services. You must not use or replicate our copyright material other than as permitted by law.  Specifically, you must not use or replicate our copyright material for commercial purposes unless expressly agreed to by Us, in which case we may require you to sign a Licence Agreement."]}),Object(s.jsx)("p",{children:"If you wish to use content, images or other of our intellectual property, you should submit your request to us at the following email address: customer.support@airCnB.com"}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Trademarks "}),"The trademarks and logos contained on this Website are trademarks of airCnB Pty Ltd].  Use of these trademarks is strictly prohibited except with Our express, written consent."]}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:"Links to external websites "}),"This Website may contain links that direct you outside of this Website.  These links are provided for your convenience and are not an express or implied indication that we endorse or approve of the linked Website, it\u2019s contents or any associated website, product or service.  We accept no liability for loss or damage arising out of or in connection to your use of these sites."]}),Object(s.jsx)("p",{children:"You may link to our articles or home page.  However, you should not provide a link which suggests any association, approval or endorsement on our part in respect to your website, unless we have expressly agreed in writing.  We may withdraw our consent to you linking to our site at any time by notice to you."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Limitation of Liability "}),"We take no responsibility for the accuracy of any of the content or statements contained on this Website or in relation to our Services.  Statements made are by way of general comment only and you should satisfy yourself as to their accuracy.  Further, all of our Services are provided without a warranty with the exception of any warranties provided by law."]}),Object(s.jsx)("p",{children:"We are not liable for any damages whatsoever, incurred as a result of or relating to the use of the Website or our Services."}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Information Collection "}),"Use of information you have provided us with, or that we have collected and retained relating to your use of the Website and/or our Services, is governed by our Privacy Policy.  By using this Website and the Services associated with this Website, you are agreeing to the Privacy Policy.  To view our Privacy Policy and read more about why we collect personal information from you and how we use that information, click here."]}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Confidentiality "}),"All personal information you give us will be dealt with in a confidential manner in accordance with our Privacy Policy.  However, due to circumstances outside of our control, we cannot guarantee that all aspects of your use of this Website will be confidential due to the potential ability of third parties to intercept and access such information."]}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:" Governing Law"}),"These terms and conditions are governed by and construed in accordance with the laws of NSW, Australia.  Any disputes concerning this website are to be resolved by the courts having jurisdiction in NSW. We retain the right to bring proceedings against you for breach of these Terms and Conditions, in your country of residence or any other appropriate country or jurisdiction."]}),"Copyright \xa9 2021 AirCnB        www.airCnB.com"]})},X=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={name:"",email:"",message:"",booking:"",response:""},s}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),m()({method:"POST",url:"http://air-bnb-replication.herokuapp.com/contact/create",data:this.state,withCredentials:!0}).then((function(e){console.log(e.data.sent),t.setState({response:e.data.sent}),t.resetForm(),setTimeout((function(){return t.setState({response:""})}),2e3)})).catch(console.warn)}},{key:"resetForm",value:function(){this.setState({name:"",email:"",message:"",booking:""})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onBookingChange",value:function(e){this.setState({booking:e.target.value})}},{key:"onMessageChange",value:function(e){console.log(e),this.setState({message:e.target.value})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"Terms",children:[Object(s.jsx)("h2",{children:" Contact Us "}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"If you have any queries about a property, a booking or just want us to send your feedback please enter your details below:"}),Object(s.jsx)("br",{}),!0===this.state.response?Object(s.jsx)("p",{children:" message sent "}):Object(s.jsx)("p",{children:" "}),Object(s.jsxs)("form",{id:"contact-form",onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"name",children:"Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onNameChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(s.jsx)("input",{type:"email",className:"form-control","aria-describedby":"emailHelp",value:this.state.email,onChange:this.onEmailChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"booking",children:"Booking Code (optional)"}),Object(s.jsx)("input",{type:"booking",className:"form-control",value:this.state.booking,onChange:this.onBookingChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"message",children:"Message"}),Object(s.jsx)("textarea",{className:"form-control",rows:"5",value:this.state.message,onChange:this.onMessageChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(i.a.Component),$=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={comment:"",rating:""},s}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),m.a.post("http://air-bnb-replication.herokuapp.com/reviews.json",{review:this.state},{withCredentials:!0}).then((function(e){console.log(e.data),t.setState({response:e.data})})).catch(console.warn)}},{key:"onRatingChange",value:function(e){this.setState({rating:e.target.value})}},{key:"onCommentChange",value:function(e){this.setState({comment:e.target.value})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{id:"submit-review",onSubmit:this.handleSubmit.bind(this),method:"POST",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"rating",children:"Rating (0-5)"}),Object(s.jsx)("input",{type:"number",id:"quantity",name:"quantity",min:"1",max:"5",className:"form-control",value:this.state.rating,onChange:this.onRatingChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"review",children:"Comment "}),Object(s.jsx)("textarea",{className:"form-control",rows:"5",value:this.state.comment,onChange:this.onCommentChange.bind(this)})]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}}]),n}(i.a.Component),J=function(e){return Object(s.jsxs)("div",{className:"Terms",children:[Object(s.jsx)("h2",{children:" AirCnB - ABOUT US "}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Welcome to AirCnB, the new communist platform that let you book a property for short and long stay around Australia."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"We're dedicated to giving you the very best of quality in our properties, with a focus on price, comfort and service."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:'Founded in 2021 by a partnership of four colleagues, AirCnB has come a long way from its beginnings in NSW. When the partnership first started out, their passion for rent the best property in the are drove them to keep researching the best properties around Australia so that AirCnB can offer you "the best quality and price ". We now serve customers all over Australia, and are thrilled that we\'re able to turn our passion into our own website.'}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"We hope you enjoy our properties as much as we enjoy offering them to you. If you have any questions or comments, please don't hesitate to contact us."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Sincerely,"}),Object(s.jsx)("p",{children:"Kyle, Stacey, John and David"}),Object(s.jsx)($,{})]})},Q=function(e){return Object(s.jsx)("div",{className:"container border-bottom py-3",onClick:e.handleClick,id:e.propertyData.id,children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6 my-2 ml-1",children:Object(s.jsx)("img",{src:e.propertyData.images[0].image_url,loading:"lazy",alt:e.propertyData.images[0].name,className:"rounded"})}),Object(s.jsxs)("div",{className:"col-6 my-2 pt-3 text-right",children:[Object(s.jsxs)("div",{className:"",children:["entire ",e.propertyData.property_type," in ",e.searchTerm]}),Object(s.jsx)("div",{children:Object(s.jsx)("strong",{children:e.propertyData.heading})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-2",children:Object(s.jsx)("hr",{})})})}),Object(s.jsxs)("div",{children:[e.propertyData.max_guests," guests | ",e.propertyData.bedrooms," beds | ",e.propertyData.bathrooms," bath"]}),Object(s.jsx)("div",{className:"d-flex justify-content-end",children:Object(s.jsxs)("p",{className:"font-weight-bold",children:[Object(s.jsxs)("strong",{children:["$ ",e.propertyData.listing_price]})," / night"]})})]})]})})},Z=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).displayMarkers=function(){return a.props.locations.map((function(e,t){return Object(s.jsx)(A.Marker,{id:t,position:{lat:e.latitude,lng:e.longitude},onClick:function(){return console.log("You clicked me!")},title:"$100",name:"location.name",icon:{url:"https://chart.googleapis.com/chart?chst=d_bubble_text_small&chld=bb|$ ".concat(e.listing_price," / ").concat(e.max_guests," Guests|FFFFFF|000000")}},t)}))},a.state={bounds:null},a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e){if(e.locations!==this.props.locations){var t=new this.props.google.maps.LatLngBounds;this.props.locations.forEach((function(e,n){t.extend({lat:e.latitude,lng:e.longitude})})),this.setState({bounds:t})}}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"position-fixed",children:Object(s.jsx)(A.Map,{google:this.props.google,zoom:10,style:{width:"300px",height:"550px"},initialCenter:{lat:this.props.locations[0].latitude,lng:this.props.locations[0].longitude},bounds:this.state.bounds,children:this.displayMarkers()})})}}]),n}(i.a.Component),ee=Object(A.GoogleApiWrapper)({apiKey:"AIzaSyAW5MNODxdAncbpnSGtOIl6Gyfjo-e6w3g"})(Z),te=n(55),ne=n.n(te);window.React=i.a;var se="http://air-bnb-replication.herokuapp.com/",ae=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handlePageClick=function(e){var t=e.selected,n=Math.ceil(t*s.props.perPage);s.setState({offset:n},(function(){s.loadCommentsFromServer()}))},s.state={data:[],offset:0,total_count:0},s}return Object(d.a)(n,[{key:"loadCommentsFromServer",value:function(){var e=this;m.a.get(se+"/properties/search/"+this.props.searchTerm).then((function(t){e.setState({total_count:t.data.length}),console.log("Full Data:",t.data)}));var t=se+"/properties/search/"+this.props.searchTerm+"/"+this.props.perPage+"/"+this.state.offset;console.log("URL:",t),m.a.get(t).then((function(t){e.setState({data:t.data,pageCount:Math.ceil(e.state.total_count/e.props.perPage)}),e.props.listData(t.data)}))}},{key:"componentDidMount",value:function(){this.loadCommentsFromServer()}},{key:"render",value:function(){var e;return Object(s.jsx)("div",{className:"commentBox",children:Object(s.jsx)(ne.a,(e={previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",previousClassName:"btn btn-outline-secondary btn-sm me-2",nextClassName:"btn btn-outline-secondary btn-sm"},Object(w.a)(e,"activeClassName","btn btn-outline-primary"),Object(w.a)(e,"pageClassName","btn btn-outline-secondary btn-sm me-2"),e))})}}]),n}(a.Component),ie=function(e){var t=e.match.params.searchText,n=Object(a.useState)(e.match.params.startDate),i=Object(O.a)(n,1)[0],r=Object(a.useState)(e.match.params.endDate),c=Object(O.a)(r,1)[0],l=Object(a.useState)([]),d=Object(O.a)(l,2),h=d[0],j=d[1],b=Object(a.useState)([]),u=Object(O.a)(b,2),p=u[0],x=u[1];Object(a.useEffect)((function(){m.a.get("http://air-bnb-replication.herokuapp.com/properties/search//"+t).then((function(e){j(e.data)})).catch(console.warn())}),[t]);var g=function(t){e.history.push("/property/".concat(t.currentTarget.id,"/").concat(i,"/").concat(c))};return console.log("res data:",p),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(f,Object(o.a)({},e)),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"container text-nowrap",children:[Object(s.jsxs)("h1",{children:["Accomodation in ",t]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-5",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary text-nowrap btn-sm",children:"Cancellation flexability"})}),Object(s.jsx)("div",{className:"col-4 text-center",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary text-nowrap btn-sm",children:"Type of place"})}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary text-nowrap btn-sm",children:"Price"})})]})]})}),Object(s.jsx)("div",{className:"col-3",id:""}),Object(s.jsx)("div",{className:"col-3",children:h.length>0?Object(s.jsx)(ee,{locations:h}):Object(s.jsx)("p",{children:"Loading..."})})]}),Object(s.jsx)("div",{className:"container mt-2",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:""!==t?Object(s.jsx)(ae,{searchTerm:t,perPage:3,author:"AirBnC",listData:function(e){x(e)}}):Object(s.jsx)("p",{children:"Loading...."})}),Object(s.jsx)("div",{className:"col-6"})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-8 click",children:h.length>0?p.map((function(e,n){return Object(s.jsx)(Q,{propertyData:e,searchTerm:t,handleClick:g},n)})):Object(s.jsx)("p",{children:"Loading..."})}),Object(s.jsx)("div",{className:"col-4"})]})]})},re="http://air-bnb-replication.herokuapp.com",ce=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={authForm:"",authModalVisible:!1,isLoggedIn:!1,user:{}},e.getLoginStatus=function(){m.a.get("".concat(re,"/logged_in"),{withCredentials:!0}).then((function(t){t.data.logged_in?e.handleLogin(t.data):e.handleLogout()})).catch(console.log)},e.toggleAuthModal=function(t,n){e.setState({authModalVisible:n,authForm:t})},e.handleLogin=function(t){e.setState({authModalVisible:!1,user:t.user,isLoggedIn:!0})},e.handleLogout=function(){e.state.isLoggedIn&&m.a.delete("".concat(re,"/login.json"),{withCredentials:!0}).then((function(e){return console.log(e)})),e.setState({user:{},isLoggedIn:!1})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getLoginStatus()}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsxs)(b.a,{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(z,{}),Object(s.jsx)("div",{className:"nav-wrapper",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("nav",{className:"nav",children:[Object(s.jsx)("div",{className:"logo",children:Object(s.jsx)(b.b,{to:"/",children:"aircnb"})}),Object(s.jsx)(b.b,{to:"/",className:"nav-links",children:" Home "}),this.state.isLoggedIn?Object(s.jsx)(b.b,{className:"nav-links",onClick:this.handleLogout,children:"Logout"}):Object(s.jsx)(b.b,{className:"nav-links",onClick:function(){return e.toggleAuthModal("login",!0)},children:"Login"})]})})})]}),Object(s.jsx)(u.a,{exact:!0,path:"/",component:v}),Object(s.jsx)(u.a,{exact:!0,path:"/About",component:J}),Object(s.jsx)(u.a,{exact:!0,path:"/Terms",component:K}),Object(s.jsx)(u.a,{exact:!0,path:"/Contact",component:X}),Object(s.jsx)(u.a,{exact:!0,path:"/search/:searchText/:startDate/:endDate",component:ie}),Object(s.jsx)(u.a,{exact:!0,path:"/property/:listing_id/:startDate/:endDate",render:function(t){return Object(s.jsx)(B,Object(o.a)(Object(o.a)({},t),{},{toggleAuthModal:e.toggleAuthModal,isLoggedIn:e.state.isLoggedIn,user:e.state.user}))}}),Object(s.jsx)(u.a,{exact:!0,path:"/book/:reservation_id/confirmation",component:q}),Object(s.jsx)(u.a,{exact:!0,path:"/book/:reservation_id/:startDate/:endDate",render:function(t){return Object(s.jsx)(Y,Object(o.a)(Object(o.a)({},t),{},{isLoggedIn:e.state.isLoggedIn,user:e.state.user}))}}),this.state.authModalVisible?Object(s.jsx)(y,{children:"login"===this.state.authForm?Object(s.jsx)(N,{handleLogin:this.handleLogin,toggleAuthModal:this.toggleAuthModal}):Object(s.jsx)(D,{handleLogin:this.handleLogin,toggleAuthModal:this.toggleAuthModal})}):null,Object(s.jsx)(V,{})]})})}}]),n}(i.a.Component),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(ce,{})}),document.getElementById("root")),oe()},17:function(e,t,n){},53:function(e,t,n){},61:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.df8f2934.chunk.js.map